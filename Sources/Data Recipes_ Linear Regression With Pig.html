<!DOCTYPE html>
<!-- saved from url=(0070)http://thedatachef.blogspot.fr/2013/11/linear-regression-with-pig.html -->
<html class="v2 gr__thedatachef_blogspot_fr" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://www.google.com/2005/gml/b" xmlns:data="http://www.google.com/2005/gml/data" xmlns:expr="http://www.google.com/2005/gml/expr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="IE=EmulateIE7" http-equiv="X-UA-Compatible">
<meta content="width=1100" name="viewport">

<script src="./Data Recipes_ Linear Regression With Pig_files/cb=gapi.loaded_4" async=""></script><script src="./Data Recipes_ Linear Regression With Pig_files/cb=gapi.loaded_3" async=""></script><script src="./Data Recipes_ Linear Regression With Pig_files/cb=gapi.loaded_2" async=""></script><script src="./Data Recipes_ Linear Regression With Pig_files/ca-pub-8584185699690480.js"></script><script src="./Data Recipes_ Linear Regression With Pig_files/cb=gapi.loaded_1" async=""></script><script src="./Data Recipes_ Linear Regression With Pig_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript">(function() { (function(){function c(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var h=a?new c(a.responseStart):new c;window.jstiming={Timer:c,load:h};if(a){var b=a.navigationStart,e=a.responseStart;0<b&&e>=b&&(window.jstiming.srt=e-b)}if(a){var d=window.jstiming.load;0<b&&e>=b&&(d.tick("_wtsrt",void 0,b),d.tick("wtsrt_",
"_wtsrt",e),d.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),d&&0<b&&(d.tick("_tbnd",void 0,window.chrome.csi().startE),d.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,d&&0<b&&(d.tick("_tbnd",void 0,window.external.startE),d.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(k){}})();window.tickAboveFold=function(c){var a=0;if(c.offsetParent){do a+=c.offsetTop;while(c=c.offsetParent)}c=a;750>=c&&window.jstiming.load.tick("aft")};var f=!1;function g(){f||(f=!0,window.jstiming.load.tick("firstScrollTime"))}window.addEventListener?window.addEventListener("scroll",g,!1):window.attachEvent("onscroll",g);
 })();</script>
<meta content="blogger" name="generator">
<link href="http://thedatachef.blogspot.fr/favicon.ico" rel="icon" type="image/x-icon">
<link href="http://thedatachef.blogspot.com/2013/11/linear-regression-with-pig.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="Data Recipes - Atom" href="http://thedatachef.blogspot.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="Data Recipes - RSS" href="http://thedatachef.blogspot.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="Data Recipes - Atom" href="https://www.blogger.com/feeds/2875432366090970056/posts/default">

<link rel="alternate" type="application/atom+xml" title="Data Recipes - Atom" href="http://thedatachef.blogspot.com/feeds/3087018930634651322/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/1494333581-ieretrofit.js"></script>
<![endif]-->
<link href="./Data Recipes_ Linear Regression With Pig_files/data.png" rel="image_src">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Data Recipes: Linear Regression With Pig</title>
<link type="text/css" rel="stylesheet" href="./Data Recipes_ Linear Regression With Pig_files/2973171168-css_bundle_v2.css">
<link type="text/css" rel="stylesheet" href="./Data Recipes_ Linear Regression With Pig_files/authorization.css">
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Josh Peterson
URL:      www.noaesthetic.com
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="keycolor" description="Main Color" type="color" default="#66bbdd"/>
<Group description="Page Text" selector="body">
<Variable name="body.font" description="Font" type="font"
default="normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="body.text.color" description="Text Color" type="color" default="#222222"/>
</Group>
<Group description="Backgrounds" selector=".body-fauxcolumns-outer">
<Variable name="body.background.color" description="Outer Background" type="color" default="#66bbdd"/>
<Variable name="content.background.color" description="Main Background" type="color" default="#ffffff"/>
<Variable name="header.background.color" description="Header Background" type="color" default="transparent"/>
</Group>
<Group description="Links" selector=".main-outer">
<Variable name="link.color" description="Link Color" type="color" default="#2288bb"/>
<Variable name="link.visited.color" description="Visited Color" type="color" default="#888888"/>
<Variable name="link.hover.color" description="Hover Color" type="color" default="#33aaff"/>
</Group>
<Group description="Blog Title" selector=".header h1">
<Variable name="header.font" description="Font" type="font"
default="normal normal 60px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="header.text.color" description="Title Color" type="color" default="#3399bb" />
</Group>
<Group description="Blog Description" selector=".header .description">
<Variable name="description.text.color" description="Description Color" type="color"
default="#777777" />
</Group>
<Group description="Tabs Text" selector=".tabs-inner .widget li a">
<Variable name="tabs.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="tabs.text.color" description="Text Color" type="color" default="#999999"/>
<Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="#000000"/>
</Group>
<Group description="Tabs Background" selector=".tabs-outer .PageList">
<Variable name="tabs.background.color" description="Background Color" type="color" default="#f5f5f5"/>
<Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Post Title" selector="h3.post-title, .comments h4">
<Variable name="post.title.font" description="Font" type="font"
default="normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
</Group>
<Group description="Date Header" selector=".date-header">
<Variable name="date.header.color" description="Text Color" type="color"
default="#222222"/>
<Variable name="date.header.background.color" description="Background Color" type="color"
default="transparent"/>
<Variable name="date.header.font" description="Text Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="date.header.padding" description="Date Header Padding" type="string" default="inherit"/>
<Variable name="date.header.letterspacing" description="Date Header Letter Spacing" type="string" default="inherit"/>
<Variable name="date.header.margin" description="Date Header Margin" type="string" default="inherit"/>
</Group>
<Group description="Post Footer" selector=".post-footer">
<Variable name="post.footer.text.color" description="Text Color" type="color" default="#666666"/>
<Variable name="post.footer.background.color" description="Background Color" type="color"
default="#f9f9f9"/>
<Variable name="post.footer.border.color" description="Shadow Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Gadgets" selector="h2">
<Variable name="widget.title.font" description="Title Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.title.text.color" description="Title Color" type="color" default="#000000"/>
<Variable name="widget.alternate.text.color" description="Alternate Color" type="color" default="#999999"/>
</Group>
<Group description="Images" selector=".main-inner">
<Variable name="image.background.color" description="Background Color" type="color" default="#ffffff"/>
<Variable name="image.border.color" description="Border Color" type="color" default="#eeeeee"/>
<Variable name="image.text.color" description="Caption Text Color" type="color" default="#222222"/>
</Group>
<Group description="Accents" selector=".content-inner">
<Variable name="body.rule.color" description="Separator Line Color" type="color" default="#eeeeee"/>
<Variable name="tabs.border.color" description="Tabs Border Color" type="color" default="#eeeeee"/>
</Group>
<Variable name="body.background" description="Body Background" type="background"
color="#dd667f" default="$(color) none repeat scroll top left"/>
<Variable name="body.background.override" description="Body Background Override" type="string" default=""/>
<Variable name="body.background.gradient.cap" description="Body Gradient Cap" type="url"
default="url(//www.blogblog.com/1kt/simple/gradients_light.png)"/>
<Variable name="body.background.gradient.tile" description="Body Gradient Tile" type="url"
default="url(//www.blogblog.com/1kt/simple/body_gradient_tile_light.png)"/>
<Variable name="content.background.color.selector" description="Content Background Color Selector" type="string" default=".content-inner"/>
<Variable name="content.padding" description="Content Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.padding.horizontal" description="Content Horizontal Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.shadow.spread" description="Content Shadow Spread" type="length" default="40px" min="0" max="100px"/>
<Variable name="content.shadow.spread.webkit" description="Content Shadow Spread (WebKit)" type="length" default="5px" min="0" max="100px"/>
<Variable name="content.shadow.spread.ie" description="Content Shadow Spread (IE)" type="length" default="10px" min="0" max="100px"/>
<Variable name="main.border.width" description="Main Border Width" type="length" default="0" min="0" max="10px"/>
<Variable name="header.background.gradient" description="Header Gradient" type="url" default="none"/>
<Variable name="header.shadow.offset.left" description="Header Shadow Offset Left" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.offset.top" description="Header Shadow Offset Top" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.spread" description="Header Shadow Spread" type="length" default="1px" min="0" max="100px"/>
<Variable name="header.padding" description="Header Padding" type="length" default="30px" min="0" max="100px"/>
<Variable name="header.border.size" description="Header Border Size" type="length" default="1px" min="0" max="10px"/>
<Variable name="header.bottom.border.size" description="Header Bottom Border Size" type="length" default="1px" min="0" max="10px"/>
<Variable name="header.border.horizontalsize" description="Header Horizontal Border Size" type="length" default="0" min="0" max="10px"/>
<Variable name="description.text.size" description="Description Text Size" type="string" default="140%"/>
<Variable name="tabs.margin.top" description="Tabs Margin Top" type="length" default="0" min="0" max="100px"/>
<Variable name="tabs.margin.side" description="Tabs Side Margin" type="length" default="30px" min="0" max="100px"/>
<Variable name="tabs.background.gradient" description="Tabs Background Gradient" type="url"
default="url(//www.blogblog.com/1kt/simple/gradients_light.png)"/>
<Variable name="tabs.border.width" description="Tabs Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="tabs.bevel.border.width" description="Tabs Bevel Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="post.margin.bottom" description="Post Bottom Margin" type="length" default="25px" min="0" max="100px"/>
<Variable name="image.border.small.size" description="Image Border Small Size" type="length" default="2px" min="0" max="10px"/>
<Variable name="image.border.large.size" description="Image Border Large Size" type="length" default="5px" min="0" max="10px"/>
<Variable name="page.width.selector" description="Page Width Selector" type="string" default=".region-inner"/>
<Variable name="page.width" description="Page Width" type="string" default="auto"/>
<Variable name="main.section.margin" description="Main Section Margin" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding" description="Main Padding" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding.top" description="Main Padding Top" type="length" default="30px" min="0" max="100px"/>
<Variable name="main.padding.bottom" description="Main Padding Bottom" type="length" default="30px" min="0" max="100px"/>
<Variable name="paging.background"
color="#ffffff"
description="Background of blog paging area" type="background"
default="transparent none no-repeat scroll top center"/>
<Variable name="footer.bevel" description="Bevel border length of footer" type="length" default="0" min="0" max="10px"/>
<Variable name="mobile.background.overlay" description="Mobile Background Overlay" type="string"
default="transparent none repeat scroll top left"/>
<Variable name="mobile.background.size" description="Mobile Background Size" type="string" default="auto"/>
<Variable name="mobile.button.color" description="Mobile Button Color" type="color" default="#ffffff" />
<Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left"/>
<Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right"/>
*/
/* Content
----------------------------------------------- */
body {
font: normal normal 12px Verdana, Geneva, sans-serif;
color: #222222;
background: #dd667f url(http://4.bp.blogspot.com/_rbU0qmUQfs8/TS_R0NGaqhI/AAAAAAAAAKw/2sf1k4PrqK8/s0-R/funky-small.jpg) repeat-y scroll top center;
padding: 0 40px 40px 40px;
}
html body .region-inner {
min-width: 0;
max-width: 100%;
width: auto;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #bb213a;
}
a:visited {
text-decoration:none;
color: #888888;
}
a:hover {
text-decoration:underline;
color: #ff3243;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent none repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
background: #dd667f url(http://4.bp.blogspot.com/_rbU0qmUQfs8/TS_R0NGaqhI/AAAAAAAAAKw/2sf1k4PrqK8/s0-R/funky-small.jpg) repeat-y scroll top center;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 40px rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 10px #333333;
box-shadow: 0 0 40px rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 10px 10px;
}
.content-inner {
background-color: #ffffff;
}
/* Header
----------------------------------------------- */
.header-outer {
background: transparent none repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 60px Verdana, Geneva, sans-serif;
color: #bb3254;
text-shadow: -1px -1px 1px rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #bb3254;
}
.Header .description {
font-size: 140%;
color: #777777;
}
.header-inner .Header .titlewrapper {
padding: 22px 30px;
}
.header-inner .Header .descriptionwrapper {
padding: 0 30px;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 1px solid #eeeeee;
}
.tabs-inner .section:first-child ul {
margin-top: -1px;
border-top: 1px solid #eeeeee;
border-left: 0 solid #eeeeee;
border-right: 0 solid #eeeeee;
}
.tabs-inner .widget ul {
background: #f5f5f5 url(http://www.blogblog.com/1kt/simple/gradients_light.png) repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 1px solid #eeeeee;
margin-top: 0;
margin-left: -30px;
margin-right: -30px;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 14px Verdana, Geneva, sans-serif;
color: #999999;
border-left: 1px solid #ffffff;
border-right: 1px solid #eeeeee;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #000000;
background-color: #eeeeee;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 0 solid #eeeeee;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid #eeeeee;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid #eeeeee;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #999999;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: transparent;
color: #222222;
padding: inherit;
letter-spacing: inherit;
margin: inherit;
}
.main-inner {
padding-top: 30px;
padding-bottom: 30px;
}
.main-inner .column-center-inner {
padding: 0 15px;
}
.main-inner .column-center-inner .section {
margin: 0 15px;
}
.post {
margin: 0 0 25px 0;
}
h3.post-title, .comments h4 {
font: normal normal 22px Verdana, Geneva, sans-serif;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 2px;
background: #ffffff;
border: 1px solid #eeeeee;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body .tr-caption-container {
color: #222222;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #666666;
background-color: #f9f9f9;
border-bottom: 1px solid #eeeeee;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid #eeeeee;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #eeeeee;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .comment-thread.inline-thread {
background-color: #f9f9f9;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid #eeeeee;
}
.blog-pager {
background: transparent none no-repeat scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #ffffff;
padding: 5px;
}
.footer-outer {
border-top: 0 dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #ffffff;
}
.mobile-index-contents {
color: #222222;
}
.mobile-link-button {
background-color: #bb213a;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: #eeeeee;
color: #000000;
border-top: 1px solid #eeeeee;
border-bottom: 1px solid #eeeeee;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #eeeeee;
}

--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 1000px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 1000px;
max-width: 1000px;
_width: 1000px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 200px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 200px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("200px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 200px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 200px;
margin-right: -200px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
--></style>
<link href="./Data Recipes_ Linear Regression With Pig_files/shCore.css" rel="stylesheet" type="text/css">
<link href="./Data Recipes_ Linear Regression With Pig_files/shThemeDefault.css" rel="stylesheet" type="text/css">
<script src="./Data Recipes_ Linear Regression With Pig_files/shCore.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushCpp.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushCSharp.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushCss.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushJava.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushJScript.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushPhp.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushPython.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushRuby.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushSql.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushVb.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushXml.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushPerl.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushBash.js" type="text/javascript"></script>
<script src="./Data Recipes_ Linear Regression With Pig_files/shBrushPlain.js" type="text/javascript"></script>
<script language="javascript">


SyntaxHighlighter.config.bloggerMode = true;
SyntaxHighlighter.config.clipboardSwf = 'http://alexgorbatchev.com/pub/sh/current/scripts/clipboard.swf';
SyntaxHighlighter.all();
</script>
<script type="text/javascript">var a="&m=1",d="(^|&)m=",e="?",f="?m=1";function g(){var b=window.location.href,c=b.split(e);switch(c.length){case 1:return b+f;case 2:return 0<=c[1].search(d)?null:b+a;default:return null}}var h=navigator.userAgent;if(-1!=h.indexOf("Mobile")&&-1!=h.indexOf("WebKit")&&-1==h.indexOf("iPad")||-1!=h.indexOf("Opera Mini")||-1!=h.indexOf("IEMobile")){var k=g();k&&window.location.replace(k)};
</script><script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('headEnd');
</script><script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/google_top_exp.js"></script><style>.gc-bubbleDefault{background-color:transparent !important;text-align:left;padding:0 !important;margin:0 !important;border:0 !important;table-layout:auto !important}.gc-reset{background-color:transparent !important;border:0 !important;padding:0 !important;margin:0 !important;text-align:left}.pls-bubbleTop{border-bottom:1px solid #ccc !important}.pls-topTail,.pls-vertShimLeft,.pls-contentLeft{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border_3.gif) !important}.pls-topTail{background-repeat:repeat-x !important;background-position:bottom !important}.pls-vertShim{background-color:#fff !important;text-align:right}.tbl-grey .pls-vertShim{background-color:#f5f5f5 !important}.pls-vertShimLeft{background-repeat:repeat-y !important;background-position:right !important;height:4px}.pls-vertShimRight{height:4px}.pls-confirm-container .pls-vertShim{background-color:#fff3c2 !important}.pls-contentWrap{background-color:#fff !important;position:relative !important;vertical-align:top}.pls-contentLeft{background-repeat:repeat-y;background-position:right;vertical-align:top}.pls-dropRight{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropR_3.png) !important;background-repeat:repeat-y !important;vertical-align:top}.pls-vert,.pls-tailleft,.pls-dropTR .pls-dropBR,.pls-dropBL,.pls-vert img{vertical-align:top}.pls-dropBottom{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropB_3.png) !important;background-repeat:repeat-x !important;width:100%;vertical-align:top}.pls-topLeft{background:inherit !important;text-align:right;vertical-align:bottom}.pls-topRight{background:inherit !important;text-align:left;vertical-align:bottom}.pls-bottomLeft{background:inherit !important;text-align:right}.pls-bottomRight{background:inherit !important;text-align:left;vertical-align:top}.pls-tailtop,.pls-tailright,.pls-tailbottom,.pls-tailleft{display:none;position:relative}.pls-tailbottom,.pls-tailtop,.pls-tailright,.pls-tailleft,.pls-dropTR,.pls-dropBR,.pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite_3.png) !important;background-repeat:no-repeat}.tbl-grey .pls-tailbottom,.tbl-grey .pls-tailtop,.tbl-grey .pls-tailright,.tbl-grey .pls-tailleft,.tbl-grey .pls-dropTR,.tbl-grey .pls-dropBR,.tbl-grey .pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite-grey.png) !important}.pls-tailbottom{background-position:-23px 0}.pls-confirm-container .pls-tailbottom{background-position:-23px -10px}.pls-tailtop{background-position:-19px -20px}.pls-tailright{background-position:0 0}.pls-tailleft{background-position:-10px 0}.pls-tailtop{vertical-align:top}.gc-bubbleDefault td{line-height:0;font-size:0}.pls-topLeft img,.pls-topRight img,.pls-tailbottom{vertical-align:bottom}.pls-bottomLeft img,.bubbleDropTR,.pls-dropBottomL img,.pls-dropBottom img,.pls-dropBottomR img,.pls-bottomLeft{vertical-align:top}.pls-dropTR{background-position:0 -22px}.pls-dropBR{background-position:0 -27px}.pls-dropBL{background-position:0 -16px}.pls-spacertop,.pls-spacerright,.pls-spacerbottom,.pls-spacerleft{position:static !important}.pls-spinner{bottom:0;position:absolute;left:0;margin:auto;right:0;top:0} </style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style class="singleton-element" type="text/css">.cookie-choices-info { position:fixed;width:100%;background-color:#666;margin:0;left:0;top:0;padding:0;z-index:4000;text-align:center;color:#fff;line-height:140%;padding:10px 0;font-family:roboto,Arial; } .cookie-choices-info .cookie-choices-inner { position:relative;width:initial;margin:0;left:0;top:0; } .cookie-choices-info .cookie-choices-text { display:inline-block;vertical-align:middle;font-size:16px;margin:10px 20px;color:#ccc;max-width:800px;text-align:left; }.cookie-choices-info .cookie-choices-buttons { display:inline-block;vertical-align:middle;white-space:nowrap;margin:0 10px; } .cookie-choices-info .cookie-choices-button:hover {  color: #fff; } .cookie-choices-info .cookie-choices-button { font-weight:bold;text-transform:UPPERCASE;white-space:nowrap;color:#eee;margin-left:8px;padding:0 6px; text-decoration:none; }</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Main-bold; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Main-italic; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Math-italic; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Caligraphic; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?rev=2.6.0') format('woff'), url('http://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?rev=2.6.0') format('opentype')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body class=" variant-pale"><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>
<div class="navbar section" id="navbar"><div class="widget Navbar" id="Navbar1"><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="" tabindex="0" vspace="0" width="100%" id="navbar-iframe" name="navbar-iframe" src="./Data Recipes_ Linear Regression With Pig_files/navbar.html"></iframe></div>
<script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript">
        gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
          if (gapi.iframes && gapi.iframes.getContext) {
            gapi.iframes.getContext().openChild({
                url: 'https://www.blogger.com/navbar.g?targetBlogID\0752875432366090970056\46blogName\75Data+Recipes\46publishMode\75PUBLISH_MODE_BLOGSPOT\46navbarType\75BLUE\46layoutType\75LAYOUTS\46searchRoot\75//thedatachef.blogspot.com/search\46blogLocale\75en\46v\0752\46homepageUrl\75http://thedatachef.blogspot.com/\46targetPostID\0753087018930634651322\46blogPostOrPageUrl\75http://thedatachef.blogspot.com/2013/11/linear-regression-with-pig.html\46vt\75-1750559424908979116',
                where: document.getElementById("navbar-iframe-container"),
                id: "navbar-iframe"
            });
          }
        });
      </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header"><div class="widget Header" id="Header1">
<div id="header-inner">
<div class="titlewrapper">
<h1 class="title">
<a href="http://thedatachef.blogspot.fr/">Data Recipes</a>
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>
</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs section" id="crosscol"><div class="widget HTML" id="HTML1">
<h2 class="title">mathjax</h2>
<div class="widget-content">
<script type="text/x-mathjax-config;executed=true">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
 
<script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/MathJax.js">
</script>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=2875432366090970056&widgetType=HTML&widgetId=HTML1&action=editWidget&sectionId=crosscol" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;HTML1&quot;));" target="configHTML1" title="Edit">
<img alt="" height="18" src="./Data Recipes_ Linear Regression With Pig_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div></div>
<div class="tabs section" id="crosscol-overflow"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main"><div class="widget Blog" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">
        
<h2 class="date-header"><span>Thursday, November 14, 2013</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry">
<a name="3087018930634651322"></a>
<h3 class="post-title entry-title">
Linear Regression With Pig
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content">
It's a bit silly trying to motivate a discussion of linear regression. It's everywhere. Linear regression is typically the first pass step for understanding a dataset. Is there a linear relationship between my variables? Maybe. Let's try linear regression! In other, and less precise, words we just fit a damn line to it. Suffice it to say linear regression is one of those tools for data analysis that's not optional. You <b>must</b>&nbsp;know it.<br>
<br>
In fact, I'm going to assume just that. That you've used linear regression in other contexts before and understand its utility. The issue at hand is how to <i>parallelize</i> linear regression. Why? Well, suppose you have billions of feature vectors in your data set, each with thousands of features (columns), and you want to use all of them because, why not? Suppose it doesn't fit on one machine. Now, there exists a project to address this specifically, <a href="http://github.com/JohnLangford/vowpal_wabbit/wiki">vowpal wabbit</a>, which you should most certainly check out, but that I'm not going to talk about. Instead, the idea is to use Apache Pig. The reason for implementing it with Pig, rather than using an existing tool, is mostly for illustration. Linear regression with pig brings up several design and implementation details that I believe you'll face when doing almost any reasonably useful machine learning at scale. In other words, how do I wire all this shit together?<br>
<br>
Specifically, I'll address pig macros, python drivers, and using a whole relation as a scalar. Fun stuff.<br>
<br>
<h2>
linear regression</h2>
<div>
It's important that I do at least explain a bit of terminology so we're all together in this. So, rather than jump for the most general explanation immediately (why do people do that?) let's talk about something real. Suppose you've measured the current running through a circuit while slowly decreasing the resistance. You would expect the current to increase linearly as you decrease the current (<a href="http://en.wikipedia.org/wiki/Ohm's_law">ohms law</a>). In other words,&nbsp;</div>
<div>
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable columnalign=&quot;right center left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0 thickmathspace&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;/mfrac&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" role="math" style="width: 4.332em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.43em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.785em 1003.25em 3.19em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-2"><span class="mtable" id="MathJax-Span-3" style="padding-right: 0.183em; padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 3.009em; height: 0px;"><span style="position: absolute; clip: rect(2.588em 1003.01em 4.993em -999.997em); top: -4.025em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 3.009em; height: 0px;"><span style="position: absolute; clip: rect(2.468em 1003.01em 4.933em -999.997em); top: -3.965em; right: 0.003em;"><span class="mtd" id="MathJax-Span-4"><span class="mrow" id="MathJax-Span-5"><span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math-italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.063em;"></span></span><span class="mo" id="MathJax-Span-7" style="font-family: MathJax_Main; padding-left: 0.304em;">=</span><span class="mfrac" id="MathJax-Span-8" style="padding-left: 0.304em;"><span style="display: inline-block; position: relative; width: 0.905em; height: 0px; margin-right: 0.123em; margin-left: 0.123em;"><span style="position: absolute; clip: rect(3.19em 1000.79em 4.212em -999.997em); top: -4.687em; left: 50%; margin-left: -0.358em;"><span class="mi" id="MathJax-Span-9" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.183em;"></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.19em 1000.79em 4.212em -999.997em); top: -3.364em; left: 50%; margin-left: -0.358em;"><span class="mi" id="MathJax-Span-10" style="font-family: MathJax_Math-italic;">R</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(0.845em 1000.91em 1.266em -999.997em); top: -1.32em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 0.905em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.057em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 2.731em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left" rowspacing="3pt" columnspacing="0 thickmathspace" displaystyle="true"><mtr><mtd><mi>I</mi><mo>=</mo><mfrac><mi>V</mi><mi>R</mi></mfrac></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">\begin{eqnarray*}I=\frac{V}{R}\end{eqnarray*}</script></div>
<div>
<br></div>
<div>
To verify Ohm's Law (not a bad idea, I mean, maybe you're living in a dream world where physics is different and you want to know for certain...) you'd record the current&nbsp;<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-11" role="math" style="width: 0.725em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.544em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.446em 1000.54em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-12"><span class="mi" id="MathJax-Span-13" style="font-family: MathJax_Math-italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.063em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.989em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">I</script>&nbsp;and the resistance <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-14" role="math" style="width: 1.025em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.446em 1000.79em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-15"><span class="mi" id="MathJax-Span-16" style="font-family: MathJax_Math-italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.064em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">R</script> at every measurement while holding the voltage <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-17" role="math" style="width: 1.025em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.446em 1000.79em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-18"><span class="mi" id="MathJax-Span-19" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.183em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.064em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">V</script> constant. You'd then fit a line to the data or, more specifically, to <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mfrac&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-20" role="math" style="width: 1.206em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.965em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.145em 1000.97em 2.829em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-21"><span class="mfrac" id="MathJax-Span-22"><span style="display: inline-block; position: relative; width: 0.664em; height: 0px; margin-right: 0.123em; margin-left: 0.123em;"><span style="position: absolute; clip: rect(3.37em 1000.3em 4.212em -999.997em); top: -4.446em; left: 50%; margin-left: -0.177em;"><span class="mn" id="MathJax-Span-23" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.37em 1000.54em 4.212em -999.997em); top: -3.604em; left: 50%; margin-left: -0.237em;"><span class="mi" id="MathJax-Span-24" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(0.845em 1000.66em 1.266em -999.997em); top: -1.32em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 0.664em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.602em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.822em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><mi>R</mi></mfrac></math></span></span><script type="math/tex" id="MathJax-Element-5">\frac{1}{R}</script>, and, if all went well, find that the slope of said line was equal to the voltage.</div>
<div>
<br></div>
<div>
In the machine learning nomenclature the current would be called the <i>response</i>&nbsp;or target variable. All the responses together form a vector <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-25" role="math" style="width: 0.725em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.544em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.687em 1000.54em 2.649em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-26"><span class="mi" id="MathJax-Span-27" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.299em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.989em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">y</script> called the <i>response vector.</i> The resistance would be called the <i>feature</i>&nbsp;or observation. And, if you recorded more than just the resistance, say, the temperature, then for every response you'd have a collection of features or a <i>feature vector</i>. All the feature vectors together form a matrix <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-28" role="math" style="width: 1.085em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.845em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.446em 1000.85em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-29"><span class="mi" id="MathJax-Span-30" style="font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.989em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">X</script>. The goal of linear regression is to find the best set of weights <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-31" role="math" style="width: 0.905em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.725em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.687em 1000.73em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-32"><span class="mi" id="MathJax-Span-33" style="font-family: MathJax_Math-italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.761em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">w</script> that, when used to form a linear combination of the features, creates a vector that is as close as possible to the response vector. So the problem can be phrased as an optimization problem. Here the function we'll minimize is the mean squared error (the square of the distance between the weighted features and the response). Mathematically the squared error, for one feature vector <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-34" role="math" style="width: 1.206em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.965em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.626em 1000.97em 2.588em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-35"><span class="msubsup" id="MathJax-Span-36"><span style="display: inline-block; position: relative; width: 0.905em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.54em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-37" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.604em;"><span class="texatom" id="MathJax-Span-38"><span class="mrow" id="MathJax-Span-39"><span class="mi" id="MathJax-Span-40" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.299em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.913em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-9">x_{i}</script> of length <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;M&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-41" role="math" style="width: 1.386em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.085em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.446em 1001.09em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-42"><span class="mi" id="MathJax-Span-43" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.063em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.989em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">M</script>, can be written as:</div>
<div>
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable columnalign=&quot;right center left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0 thickmathspace&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;msup&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;M&lt;/mi&gt;&lt;/munderover&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-44" role="math" style="width: 15.034em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.908em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.244em 1011.73em 3.671em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-45"><span class="mtable" id="MathJax-Span-46" style="padding-right: 0.183em; padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 11.487em; height: 0px;"><span style="position: absolute; clip: rect(2.107em 1011.49em 5.535em -999.997em); top: -4.085em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 11.487em; height: 0px;"><span style="position: absolute; clip: rect(2.168em 1011.49em 5.595em -999.997em); top: -4.146em; right: 0.003em;"><span class="mtd" id="MathJax-Span-47"><span class="mrow" id="MathJax-Span-48"><span class="mi" id="MathJax-Span-49" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-50" style="font-family: MathJax_Math-italic;">r</span><span class="mi" id="MathJax-Span-51" style="font-family: MathJax_Math-italic;">r</span><span class="mi" id="MathJax-Span-52" style="font-family: MathJax_Math-italic;">o</span><span class="msubsup" id="MathJax-Span-53"><span style="display: inline-block; position: relative; width: 0.905em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.42em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-54" style="font-family: MathJax_Math-italic;">r</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -4.446em; left: 0.484em;"><span class="mn" id="MathJax-Span-55" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="mo" id="MathJax-Span-56" style="font-family: MathJax_Main; padding-left: 0.304em;">=</span><span class="mo" id="MathJax-Span-57" style="font-family: MathJax_Main; padding-left: 0.304em;">(</span><span class="msubsup" id="MathJax-Span-58"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.48em 4.392em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-59" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.484em;"><span class="texatom" id="MathJax-Span-60"><span class="mrow" id="MathJax-Span-61"><span class="mi" id="MathJax-Span-62" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="mo" id="MathJax-Span-63" style="font-family: MathJax_Main; padding-left: 0.244em;"></span><span class="munderover" id="MathJax-Span-64" style="padding-left: 0.244em;"><span style="display: inline-block; position: relative; width: 1.446em; height: 0px;"><span style="position: absolute; clip: rect(2.889em 1001.39em 4.633em -999.997em); top: -4.025em; left: 0.003em;"><span class="mo" id="MathJax-Span-65" style="font-family: MathJax_Size2; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.37em 1001.15em 4.452em -999.997em); top: -2.943em; left: 0.123em;"><span class="texatom" id="MathJax-Span-66"><span class="mrow" id="MathJax-Span-67"><span class="mi" id="MathJax-Span-68" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mo" id="MathJax-Span-69" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-70" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.25em 1000.73em 4.212em -999.997em); top: -5.168em; left: 0.364em;"><span class="mi" id="MathJax-Span-71" style="font-size: 70.7%; font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.063em;"></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-72" style="padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 1.085em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.66em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-73" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.725em;"><span class="texatom" id="MathJax-Span-74"><span class="mrow" id="MathJax-Span-75"><span class="mi" id="MathJax-Span-76" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-77"><span style="display: inline-block; position: relative; width: 1.386em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.54em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-78" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.604em;"><span class="texatom" id="MathJax-Span-79"><span class="mrow" id="MathJax-Span-80"><span class="mi" id="MathJax-Span-81" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-82" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-83" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-84"><span style="display: inline-block; position: relative; width: 0.845em; height: 0px;"><span style="position: absolute; clip: rect(3.13em 1000.3em 4.452em -999.997em); top: -4.025em; left: 0.003em;"><span class="mo" id="MathJax-Span-85" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -4.446em; left: 0.364em;"><span class="mn" id="MathJax-Span-86" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.092em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.092em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.663em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 4.019em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left" rowspacing="3pt" columnspacing="0 thickmathspace" displaystyle="true"><mtr><mtd><mi>e</mi><mi>r</mi><mi>r</mi><mi>o</mi><msup><mi>r</mi><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo></mo><munderover><mo></mo><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi></mrow></msub><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-11">\begin{eqnarray*}error^2=(y_{i}-\sum_{j=1}^Mw_{j}x_{i,j})^2\end{eqnarray*}</script><br>
where <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-87" role="math" style="width: 4.272em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.37em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.506em 1003.31em 2.829em -999.997em); top: -2.342em; left: 0.003em;"><span class="mrow" id="MathJax-Span-88"><span class="msubsup" id="MathJax-Span-89"><span style="display: inline-block; position: relative; width: 1.446em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.54em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-90" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.604em;"><span class="texatom" id="MathJax-Span-91"><span class="mrow" id="MathJax-Span-92"><span class="mi" id="MathJax-Span-93" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-94" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-95" style="font-size: 70.7%; font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="mo" id="MathJax-Span-96" style="font-family: MathJax_Main; padding-left: 0.304em;">=</span><span class="mn" id="MathJax-Span-97" style="font-family: MathJax_Main; padding-left: 0.304em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.348em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.451em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.367em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>,</mo><mn>0</mn></mrow></msub><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-12">x_{i,0}=1</script> by definition.<br>
So the mean squared error (mse), when we've got <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-98" role="math" style="width: 1.145em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.905em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.446em 1000.91em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-99"><span class="mi" id="MathJax-Span-100" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.063em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.989em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">N</script> measurements (feature vectors), is then:<br>
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable columnalign=&quot;right center left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0 thickmathspace&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mfrac&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/munderover&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;M&lt;/mi&gt;&lt;/munderover&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-101" role="math" style="width: 19.363em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.335em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.244em 1015.16em 3.671em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-102"><span class="mtable" id="MathJax-Span-103" style="padding-right: 0.183em; padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 14.914em; height: 0px;"><span style="position: absolute; clip: rect(2.107em 1014.91em 5.535em -999.997em); top: -4.085em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 14.914em; height: 0px;"><span style="position: absolute; clip: rect(2.168em 1014.91em 5.595em -999.997em); top: -4.146em; right: 0.003em;"><span class="mtd" id="MathJax-Span-104"><span class="mrow" id="MathJax-Span-105"><span class="mi" id="MathJax-Span-106" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-107" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-108" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-109" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-110" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-111" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-112" style="font-family: MathJax_Main; padding-left: 0.304em;">=</span><span class="mfrac" id="MathJax-Span-113" style="padding-left: 0.304em;"><span style="display: inline-block; position: relative; width: 1.025em; height: 0px; margin-right: 0.123em; margin-left: 0.123em;"><span style="position: absolute; clip: rect(3.19em 1000.42em 4.212em -999.997em); top: -4.687em; left: 50%; margin-left: -0.237em;"><span class="mn" id="MathJax-Span-114" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.19em 1000.91em 4.212em -999.997em); top: -3.364em; left: 50%; margin-left: -0.418em;"><span class="mi" id="MathJax-Span-115" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.063em;"></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(0.845em 1001.03em 1.266em -999.997em); top: -1.32em; left: 0.003em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0.003em; border-top-width: 1.3px; border-top-style: solid; width: 1.025em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.085em;"></span></span></span></span><span class="munderover" id="MathJax-Span-116" style="padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 1.446em; height: 0px;"><span style="position: absolute; clip: rect(2.889em 1001.39em 4.633em -999.997em); top: -4.025em; left: 0.003em;"><span class="mo" id="MathJax-Span-117" style="font-family: MathJax_Size2; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.37em 1001.09em 4.332em -999.997em); top: -2.943em; left: 0.123em;"><span class="texatom" id="MathJax-Span-118"><span class="mrow" id="MathJax-Span-119"><span class="mi" id="MathJax-Span-120" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-121" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-122" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.25em 1000.6em 4.212em -999.997em); top: -5.168em; left: 0.424em;"><span class="mi" id="MathJax-Span-123" style="font-size: 70.7%; font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.063em;"></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="mo" id="MathJax-Span-124" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-125"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.48em 4.392em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-126" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.484em;"><span class="texatom" id="MathJax-Span-127"><span class="mrow" id="MathJax-Span-128"><span class="mi" id="MathJax-Span-129" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="mo" id="MathJax-Span-130" style="font-family: MathJax_Main; padding-left: 0.244em;"></span><span class="munderover" id="MathJax-Span-131" style="padding-left: 0.244em;"><span style="display: inline-block; position: relative; width: 1.446em; height: 0px;"><span style="position: absolute; clip: rect(2.889em 1001.39em 4.633em -999.997em); top: -4.025em; left: 0.003em;"><span class="mo" id="MathJax-Span-132" style="font-family: MathJax_Size2; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.37em 1001.15em 4.452em -999.997em); top: -2.943em; left: 0.123em;"><span class="texatom" id="MathJax-Span-133"><span class="mrow" id="MathJax-Span-134"><span class="mi" id="MathJax-Span-135" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mo" id="MathJax-Span-136" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-137" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; clip: rect(3.25em 1000.73em 4.212em -999.997em); top: -5.168em; left: 0.364em;"><span class="mi" id="MathJax-Span-138" style="font-size: 70.7%; font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.063em;"></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-139" style="padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 1.085em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.66em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-140" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.725em;"><span class="texatom" id="MathJax-Span-141"><span class="mrow" id="MathJax-Span-142"><span class="mi" id="MathJax-Span-143" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-144"><span style="display: inline-block; position: relative; width: 1.386em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.54em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-145" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.604em;"><span class="texatom" id="MathJax-Span-146"><span class="mrow" id="MathJax-Span-147"><span class="mi" id="MathJax-Span-148" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-149" style="font-size: 70.7%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-150" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-151"><span style="display: inline-block; position: relative; width: 0.845em; height: 0px;"><span style="position: absolute; clip: rect(3.13em 1000.3em 4.452em -999.997em); top: -4.025em; left: 0.003em;"><span class="mo" id="MathJax-Span-152" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -4.446em; left: 0.364em;"><span class="mn" id="MathJax-Span-153" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.092em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.092em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.663em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 4.019em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left" rowspacing="3pt" columnspacing="0 thickmathspace" displaystyle="true"><mtr><mtd><mi>m</mi><mi>s</mi><mi>e</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo></mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo></mo><munderover><mo></mo><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi></mrow></msub><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-14">\begin{eqnarray*}mse(w)=\frac{1}{N}\sum_{i=1}^N(y_{i}-\sum_{j=1}^Mw_{j}x_{i,j})^2\end{eqnarray*}</script><br>
So now the question is, exactly how are we going to minimize the mse by varying the weights? Well, it turns out there's the method called <i>gradient descent.</i>&nbsp;That is, the mse decreases fastest if we start with a given set of weights and travel in the direction of the negative gradient of the mse for those weights. In other words:<br>
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable columnalign=&quot;right center left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0 thickmathspace&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mi&gt;&amp;#x03B1;&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2207;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-154" role="math" style="width: 13.411em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.645em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.266em 1010.35em 2.709em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-155"><span class="mtable" id="MathJax-Span-156" style="padding-right: 0.183em; padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 10.224em; height: 0px;"><span style="position: absolute; clip: rect(3.13em 1010.1em 4.512em -999.997em); top: -4.025em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 10.224em; height: 0px;"><span style="position: absolute; clip: rect(3.13em 1010.1em 4.452em -999.997em); top: -4.025em; right: 0.003em;"><span class="mtd" id="MathJax-Span-157"><span class="mrow" id="MathJax-Span-158"><span class="msubsup" id="MathJax-Span-159"><span style="display: inline-block; position: relative; width: 2.047em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.66em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-160" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.725em;"><span class="texatom" id="MathJax-Span-161"><span class="mrow" id="MathJax-Span-162"><span class="mi" id="MathJax-Span-163" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-164" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-165" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span><span class="mo" id="MathJax-Span-166" style="font-family: MathJax_Main; padding-left: 0.304em;">=</span><span class="mi" id="MathJax-Span-167" style="font-family: MathJax_Math-italic; padding-left: 0.304em;">w</span><span class="mo" id="MathJax-Span-168" style="font-family: MathJax_Main; padding-left: 0.244em;"></span><span class="mi" id="MathJax-Span-169" style="font-family: MathJax_Math-italic; padding-left: 0.244em;"></span><span class="mi" id="MathJax-Span-170" style="font-family: MathJax_Main;"></span><span class="texatom" id="MathJax-Span-171"><span class="mrow" id="MathJax-Span-172"><span class="mi" id="MathJax-Span-173" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-174" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-175" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-176" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-177" style="font-family: MathJax_Math-italic;">w</span><span class="mo" id="MathJax-Span-178" style="font-family: MathJax_Main;">)</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.451em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.443em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left" rowspacing="3pt" columnspacing="0 thickmathspace" displaystyle="true"><mtr><mtd><msub><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><mi>w</mi><mo></mo><mi></mi><mi mathvariant="normal"></mi><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>s</mi><mi>e</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></mrow></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-15">\begin{eqnarray*}w_{new}=w-\alpha\nabla{mse(w)}\end{eqnarray*}</script><br>
Where <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B1;&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-179" role="math" style="width: 0.845em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.664em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.687em 1000.6em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-180"><span class="mi" id="MathJax-Span-181" style="font-family: MathJax_Math-italic;"></span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.761em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi></mi></math></span></span><script type="math/tex" id="MathJax-Element-16">\alpha</script> is the magnitude of the step size. What this gives us is a way to update the weights until <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-182" role="math" style="width: 2.649em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.107em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.626em 1002.11em 2.588em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-183"><span class="msubsup" id="MathJax-Span-184"><span style="display: inline-block; position: relative; width: 2.047em; height: 0px;"><span style="position: absolute; clip: rect(3.43em 1000.66em 4.212em -999.997em); top: -4.025em; left: 0.003em;"><span class="mi" id="MathJax-Span-185" style="font-family: MathJax_Math-italic;">w</span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span><span style="position: absolute; top: -3.905em; left: 0.725em;"><span class="texatom" id="MathJax-Span-186"><span class="mrow" id="MathJax-Span-187"><span class="mi" id="MathJax-Span-188" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-189" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-190" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.299em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.913em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-17">w_{new}</script> doesn't really change much. Once the weights converge we're done.<br>
<br>
<h2>
algorithm</h2>
</div>
<div>
Alright, now that we've got a rule for updating weights, we can write down the algorithm.<br>
<br>
1. Initialize the weights, one per feature, randomly</div>
<div>
2. Update the weights by subtracting the gradient of the mse</div>
<div>
3. Repeat 2 until converged</div>
<div>
<br></div>
<div>
<h2>
implementation</h2>
<div>
Ok great. Let's get the pieces together.</div>
<div>
<br></div>
<h3>
pig</h3>
Pig is going to do most of the real work. There's two main steps involved. The first step, and one that varies strongly from domain to domain, problem to problem, is loading your data and transforming it into something that a generic algorithm can handle. The second, and more interesting, is the implementation of gradient descent of the mse itself.<br>
<br>
Here's the implementation of the gradient descent portion. I'll go over each relation in detail.</div>
<br>
<script src="./Data Recipes_ Linear Regression With Pig_files/7385286.js"></script><link rel="stylesheet" href="./Data Recipes_ Linear Regression With Pig_files/embed-2cd369fa1c0830bd3aa06c21d4f14a13e060d2d31bbaae740f4af4602b825bd9.css"><div id="gist7385286" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-linear_model-pig" class="file">
    

  <div class="blob-wrapper data type-piglatin">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-linear_model-pig-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-linear_model-pig-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c">/*</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-linear_model-pig-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * Run one iteration of gradient descent for the given weights and features</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-linear_model-pig-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * with step size alpha. Returns the updated weights.</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-linear_model-pig-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-linear_model-pig-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * features - Relation with the following schema:</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-linear_model-pig-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *  {response:double, vector:tuple(f0:double,f1:double,...,fN:double)}</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-linear_model-pig-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-linear_model-pig-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * w - Relation with **exactly one tuple** with the following schema:</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-linear_model-pig-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *  {weights:tuple(w0:double,w1:double,...,wN:double)}</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-linear_model-pig-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-linear_model-pig-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * alpha - Step size. Schema:</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-linear_model-pig-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> *   alpha:double</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-linear_model-pig-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> */</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-linear_model-pig-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-k">define</span> <span class="pl-smi">sounder_lm_gradient_descent</span>(<span class="pl-smi">features</span>, <span class="pl-smi">w</span>, <span class="pl-smi">alpha</span>) <span class="pl-k">returns</span> <span class="pl-smi">new_weights</span> {</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-linear_model-pig-LC15" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-linear_model-pig-LC16" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-linear_model-pig-LC17" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">-- Use a scalar cast to zip weights with their appropriate features</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-linear_model-pig-LC18" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-linear_model-pig-LC19" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">weighted</span> = <span class="pl-k">foreach</span> $<span class="pl-smi">features</span> {</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-linear_model-pig-LC20" class="blob-code blob-code-inner js-file-line">               <span class="pl-smi">zipped</span> = <span class="pl-smi">Zip</span>($<span class="pl-smi">w</span><span class="pl-k">.</span><span class="pl-smi">weights</span>, <span class="pl-smi">vector</span>);</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-linear_model-pig-LC21" class="blob-code blob-code-inner js-file-line">               <span class="pl-k">generate</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-linear_model-pig-LC22" class="blob-code blob-code-inner js-file-line">                 <span class="pl-smi">response</span> <span class="pl-k">as</span> <span class="pl-smi">response</span>,</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-linear_model-pig-LC23" class="blob-code blob-code-inner js-file-line">                 <span class="pl-smi">vector</span>   <span class="pl-k">as</span> <span class="pl-smi">vector</span>,</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-linear_model-pig-LC24" class="blob-code blob-code-inner js-file-line">                 <span class="pl-smi">zipped</span>   <span class="pl-k">as</span> <span class="pl-smi">zipped</span><span class="pl-k">:</span><span class="pl-k">bag</span>{<span class="pl-smi">t</span><span class="pl-k">:</span><span class="pl-k">tuple</span>(<span class="pl-smi">weight</span><span class="pl-k">:</span><span class="pl-k">double</span>, <span class="pl-smi">feature</span><span class="pl-k">:</span><span class="pl-k">double</span>, <span class="pl-smi">dimension</span><span class="pl-k">:</span><span class="pl-k">int</span>)};</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-linear_model-pig-LC25" class="blob-code blob-code-inner js-file-line">             };</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-linear_model-pig-LC26" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-linear_model-pig-LC27" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-linear_model-pig-LC28" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-linear_model-pig-LC29" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">-- Compute dot product of weights with feature vectors. First part of</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-linear_model-pig-LC30" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">-- step adjustment.</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-linear_model-pig-LC31" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-linear_model-pig-LC32" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">dot_prod</span> = <span class="pl-k">foreach</span> <span class="pl-smi">weighted</span> {</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-linear_model-pig-LC33" class="blob-code blob-code-inner js-file-line">               <span class="pl-smi">dots</span>        = <span class="pl-k">foreach</span> <span class="pl-smi">zipped</span> <span class="pl-k">generate</span> <span class="pl-smi">weight</span><span class="pl-k">*</span><span class="pl-smi">feature</span> <span class="pl-k">as</span> <span class="pl-smi">product</span>;</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-linear_model-pig-LC34" class="blob-code blob-code-inner js-file-line">               <span class="pl-smi">dot_product</span> = <span class="pl-c1">SUM</span>(<span class="pl-smi">dots</span><span class="pl-k">.</span><span class="pl-smi">product</span>);</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-linear_model-pig-LC35" class="blob-code blob-code-inner js-file-line">               <span class="pl-smi">diff</span>        = (<span class="pl-smi">dot_product</span><span class="pl-k">-</span><span class="pl-smi">response</span>);</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-linear_model-pig-LC36" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-linear_model-pig-LC37" class="blob-code blob-code-inner js-file-line">               <span class="pl-k">generate</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-linear_model-pig-LC38" class="blob-code blob-code-inner js-file-line">                 <span class="pl-c1">flatten</span>(<span class="pl-smi">zipped</span>) <span class="pl-k">as</span> (<span class="pl-smi">weight</span>, <span class="pl-smi">feature</span>, <span class="pl-smi">dimension</span>), <span class="pl-smi">diff</span> <span class="pl-k">as</span> <span class="pl-smi">diff</span>;</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-linear_model-pig-LC39" class="blob-code blob-code-inner js-file-line">             };</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-linear_model-pig-LC40" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-linear_model-pig-LC41" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-linear_model-pig-LC42" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">scaled</span> = <span class="pl-k">foreach</span> <span class="pl-smi">dot_prod</span> <span class="pl-k">generate</span> <span class="pl-smi">dimension</span>, <span class="pl-smi">weight</span>, <span class="pl-smi">feature</span><span class="pl-k">*</span><span class="pl-smi">diff</span> <span class="pl-k">as</span> <span class="pl-smi">feature_diff</span>;</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-linear_model-pig-LC43" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-linear_model-pig-LC44" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-linear_model-pig-LC45" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">-- Compute step diff along each dimension. Uses combiners</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-linear_model-pig-LC46" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-linear_model-pig-LC47" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">steps</span> = <span class="pl-k">foreach</span> (<span class="pl-k">group</span> <span class="pl-smi">scaled</span> <span class="pl-k">by</span> (<span class="pl-smi">dimension</span>,<span class="pl-smi">weight</span>)) {</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-linear_model-pig-LC48" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">factor</span>      = ($<span class="pl-smi">alpha</span><span class="pl-k">/</span>(<span class="pl-k">double</span>)<span class="pl-c1">COUNT</span>(<span class="pl-smi">scaled</span>));</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-linear_model-pig-LC49" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">weight_step</span> = <span class="pl-smi">factor</span><span class="pl-k">*</span><span class="pl-c1">SUM</span>(<span class="pl-smi">scaled</span><span class="pl-k">.</span><span class="pl-smi">feature_diff</span>);</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-linear_model-pig-LC50" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">new_weight</span>  = <span class="pl-k">group</span><span class="pl-k">.</span><span class="pl-smi">weight</span> <span class="pl-k">-</span> <span class="pl-smi">weight_step</span>;</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-linear_model-pig-LC51" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">generate</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-linear_model-pig-LC52" class="blob-code blob-code-inner js-file-line">              <span class="pl-k">group</span><span class="pl-k">.</span><span class="pl-smi">dimension</span> <span class="pl-k">as</span> <span class="pl-smi">dimension</span>,</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-linear_model-pig-LC53" class="blob-code blob-code-inner js-file-line">              <span class="pl-smi">new_weight</span>      <span class="pl-k">as</span> <span class="pl-smi">weight</span>;</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-linear_model-pig-LC54" class="blob-code blob-code-inner js-file-line">          };</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-linear_model-pig-LC55" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-linear_model-pig-LC56" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-linear_model-pig-LC57" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">-- A group all is acceptable here since the previous step reduces the</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-linear_model-pig-LC58" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">-- size down to the number of features.</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-linear_model-pig-LC59" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-linear_model-pig-LC60" class="blob-code blob-code-inner js-file-line">  $<span class="pl-smi">new_weights</span> = <span class="pl-k">foreach</span> (<span class="pl-k">group</span> <span class="pl-smi">steps</span> <span class="pl-k">all</span>) {</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-linear_model-pig-LC61" class="blob-code blob-code-inner js-file-line">                   <span class="pl-smi">in_order</span> = <span class="pl-k">order</span> <span class="pl-smi">steps</span> <span class="pl-k">by</span> <span class="pl-smi">dimension</span> <span class="pl-k">asc</span>;</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-linear_model-pig-LC62" class="blob-code blob-code-inner js-file-line">                   <span class="pl-smi">as_tuple</span> = <span class="pl-smi">BagToTuple</span>(<span class="pl-smi">in_order</span><span class="pl-k">.</span><span class="pl-smi">weight</span>);</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-linear_model-pig-LC63" class="blob-code blob-code-inner js-file-line">                   <span class="pl-k">generate</span></td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-linear_model-pig-LC64" class="blob-code blob-code-inner js-file-line">                     <span class="pl-smi">as_tuple</span>;</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-linear_model-pig-LC65" class="blob-code blob-code-inner js-file-line">                 };</td>
      </tr>
      <tr>
        <td id="file-linear_model-pig-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-linear_model-pig-LC66" class="blob-code blob-code-inner js-file-line">};</td>
      </tr>
</tbody></table>

  </div>

  </div>
  
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thedatachef/7385286/raw/e2d6f63e5d291b781d29b6f50ba3c00af230d289/linear_model.pig" style="float:right">view raw</a>
        <a href="https://gist.github.com/thedatachef/7385286#file-linear_model-pig">linear_model.pig</a>
        hosted with  by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>


Go ahead and save that in a directory called 'macros'. Since gradient descent of the mean squared error for the purposes of creating a linear model is a generic problem, it makes sense to implement it as a pig macro.<br>
<br>
In lines 19-25 we're attaching the weights to every feature vector. The Zip UDF, which can be found on&nbsp;<a href="http://github.com/thedatachef/sounder/blob/master/udf/src/main/java/sounder/pig/tuple/Zip.java">github</a>, receives the weights as a tuple and the feature vector as a tuple. The output is a bag of new tuples which contains (weight,feature,dimension). Think of Zip like a zipper where it matches the weights to their corresponding features. Importantly, the dimension (index in the input tuples) is returned as well.<br>
<br>
Something to notice about this first bit is the scalar cast. Zip receives the <i>entire</i>&nbsp;weights relation as a single object. Since the weights relation is only a single tuple anyway, this is great. This is a good thing. It prevents us from doing something silly like a replicated join on a constant (which works but clutters the logic) or, worse, a cross.<br>
<br>
Next, in lines 32-39, we're computing a portion of the gradient of the mse. The reason for the Zip udf in the first step was so the nested projection and sum to compute the dot product of the weights with the features works out cleanly.<br>
<br>
Then, on line 42, the full gradient of the mse is computed by multiplying each feature by the error. It might not seem obvious when written like that, but the partial derivatives of the mse with respect to each weight make it work out like this. How nice.<br>
<br>
Lines 47-54 is where the action happens. By action I mean we'll actually trigger a reduce job since everything up to this point has been map only. This is where the partial derivative bits come together. That is, we're grouping by dimension and weight (which, it turns out is precisely the thing we're differentiating with respect to) and summing each feature vector's contribution to the partial derivative along that dimension. The factor bit, on line 48, is the multiplier for the gradient. It includes the normalization term (we normalize by the number of features since we're differentiating the <i>mean</i>&nbsp;squared error) and the step size. The result of this step is a new weight for each dimension.<br>
<br>
An important thing to note here is that there are only a number of partitions equivalent to the number of features. What this means is that each reduce task would get a potentially&nbsp;<i>very large</i>&nbsp;amount of data. Fortunately for us COUNT and SUM are both algebraic and so Pig will use combiners, hurray!, drastically reducing the amount of data sent to each reduce task.<br>
<br>
Finally, on lines 60-65, we reconstruct a new tuple with the new weights and return it. The schema of this tuple should be the same as the input weight tuple.<br>
<br>
<h3>
gory details</h3>
<div>
So now that we have a way to do it, we should do it. Right, I mean if we can we should. Isn't that how technology works...</div>
<div>
<br></div>
<div>
I'll going to go ahead and do a completely contrived example. The reason is so that I can visualize the results.</div>
<div>
<br></div>
<div>
I've created some data, called data.tsv, which satisfies the following:</div>
<div>
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable columnalign=&quot;right center left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0 thickmathspace&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0.3&lt;/mn&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-191" role="math" style="width: 9.743em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.699em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.266em 1007.46em 2.709em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-192"><span class="mtable" id="MathJax-Span-193" style="padding-right: 0.183em; padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 7.278em; height: 0px;"><span style="position: absolute; clip: rect(3.13em 1007.28em 4.512em -999.997em); top: -4.025em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 7.278em; height: 0px;"><span style="position: absolute; clip: rect(3.13em 1007.28em 4.452em -999.997em); top: -4.025em; right: 0.003em;"><span class="mtd" id="MathJax-Span-194"><span class="mrow" id="MathJax-Span-195"><span class="mi" id="MathJax-Span-196" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-197" style="font-family: MathJax_Main; padding-left: 0.304em;">=</span><span class="mn" id="MathJax-Span-198" style="font-family: MathJax_Main; padding-left: 0.304em;">0.3</span><span class="mi" id="MathJax-Span-199" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-200" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-201" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-202" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-203" style="font-family: MathJax_Main; padding-left: 0.244em;">+</span><span class="mn" id="MathJax-Span-204" style="font-family: MathJax_Main; padding-left: 0.244em;">2</span><span class="mi" id="MathJax-Span-205" style="font-family: MathJax_Math-italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.451em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.443em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left" rowspacing="3pt" columnspacing="0 thickmathspace" displaystyle="true"><mtr><mtd><mi>y</mi><mo>=</mo><mn>0.3</mn><mi>r</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mn>2</mn><mi>x</mi></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-18">\begin{eqnarray*}y=0.3r(x) + 2x\end{eqnarray*}</script></div>
<div>
where <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-206" role="math" style="width: 2.288em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.807em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.446em 1001.69em 2.769em -999.997em); top: -2.342em; left: 0.003em;"><span class="mrow" id="MathJax-Span-207"><span class="mi" id="MathJax-Span-208" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-209" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-210" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-211" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.348em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.375em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.443em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-19">r(x)</script> is a noise term. And here's the plot:</div>
<div>
<br></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-Gbmo6S5K9U4/Un-Vi8WQXuI/AAAAAAAAATY/Jj4csk5bfi4/s1600/data.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="./Data Recipes_ Linear Regression With Pig_files/data.png" width="320"></a></div>
<div class="separator" style="clear: both; text-align: center;">
<br></div>
<div class="separator" style="clear: both; text-align: left;">
So we have two feature columns, (1.0, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-212" role="math" style="width: 0.785em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.604em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.687em 1000.54em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-213"><span class="mi" id="MathJax-Span-214" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.761em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-20">x</script>), that we're trying to find the weights for. Since we've cooked this example (we already know the relationship between <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-215" role="math" style="width: 0.785em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.604em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.687em 1000.54em 2.468em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-216"><span class="mi" id="MathJax-Span-217" style="font-family: MathJax_Math-italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.072em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.761em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-21">x</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-218" role="math" style="width: 0.725em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.544em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.687em 1000.54em 2.649em -999.997em); top: -2.282em; left: 0.003em;"><span class="mrow" id="MathJax-Span-219"><span class="mi" id="MathJax-Span-220" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.288em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.299em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.989em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-22">y</script>) we expect the weights for those columns to be (0.0,2.0) if all goes well.</div>
<div>
<br></div>
<div>
Now that we've got some data to work with, we'll need to write a bit more pig to load the data up and run it through our gradient descent macro.</div>
<div>
<br></div>
<div>
<br></div>
<script src="./Data Recipes_ Linear Regression With Pig_files/7399003.js"></script><link rel="stylesheet" href="./Data Recipes_ Linear Regression With Pig_files/embed-2cd369fa1c0830bd3aa06c21d4f14a13e060d2d31bbaae740f4af4602b825bd9.css"><div id="gist7399003" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-fit_line-pig" class="file">
    

  <div class="blob-wrapper data type-piglatin">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-fit_line-pig-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-fit_line-pig-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">%</span><span class="pl-smi">default</span> <span class="pl-smi">STEPSIZE</span> <span class="pl-c1">0.1</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-fit_line-pig-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-fit_line-pig-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">'macros/linear_model.pig'</span>;</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-fit_line-pig-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-fit_line-pig-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">data</span> = <span class="pl-k">load</span> <span class="pl-s">'$data'</span> <span class="pl-k">as</span> (<span class="pl-smi">x</span><span class="pl-k">:</span><span class="pl-k">double</span>, <span class="pl-smi">y</span><span class="pl-k">:</span><span class="pl-k">double</span>);</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-fit_line-pig-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-fit_line-pig-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-fit_line-pig-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-c">-- The weights are given a schema file by the python driver script</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-fit_line-pig-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-c">-- to avoid having to manually specify and arbitrarily large schema</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-fit_line-pig-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-c">-- with identical column schemas</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-fit_line-pig-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-fit_line-pig-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">weights</span> = <span class="pl-k">load</span> <span class="pl-s">'$input_weights'</span> <span class="pl-k">using</span> <span class="pl-c1">PigStorage</span>(<span class="pl-s">'<span class="pl-cce">\t</span>'</span>, <span class="pl-s">'-schema'</span>); </td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-fit_line-pig-LC13" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-fit_line-pig-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-fit_line-pig-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">features</span> = <span class="pl-k">foreach</span> <span class="pl-smi">data</span> <span class="pl-k">generate</span> <span class="pl-smi">y</span> <span class="pl-k">as</span> <span class="pl-smi">response</span>, <span class="pl-c1">TOTUPLE</span>(<span class="pl-c1">1.0</span>,<span class="pl-smi">x</span>) <span class="pl-k">as</span> <span class="pl-smi">vector</span>;</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-fit_line-pig-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">weights</span>  = <span class="pl-k">foreach</span> <span class="pl-smi">weights</span> <span class="pl-k">generate</span> <span class="pl-c1">TOTUPLE</span>(<span class="pl-smi">w0</span>,<span class="pl-smi">w1</span>) <span class="pl-k">as</span> <span class="pl-smi">weights</span>;</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-fit_line-pig-LC17" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-fit_line-pig-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">new_weights</span> = <span class="pl-smi">sounder_lm_gradient_descent</span>(<span class="pl-smi">features</span>, <span class="pl-smi">weights</span>, $<span class="pl-smi">STEPSIZE</span>);</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-fit_line-pig-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">new_weights</span> = <span class="pl-k">foreach</span> <span class="pl-smi">new_weights</span> <span class="pl-k">generate</span> <span class="pl-c1">flatten</span>(<span class="pl-smi">$0</span>);</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-fit_line-pig-LC20" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-fit_line-pig-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-fit_line-pig-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-c">-- Store weights in the same way they were came in. The</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-fit_line-pig-LC23" class="blob-code blob-code-inner js-file-line"><span class="pl-c">-- python driver copies the input weights schema to the output</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-fit_line-pig-LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-c">-- dir (since it's the same). The reason for this is to avoid</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-fit_line-pig-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-c">-- having to manually specify an as clause, in the project</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-fit_line-pig-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-c">-- expression above, with over 100 fields.</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-fit_line-pig-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-c">--</span></td>
      </tr>
      <tr>
        <td id="file-fit_line-pig-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-fit_line-pig-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-k">store</span> <span class="pl-smi">new_weights</span> <span class="pl-k">into</span> <span class="pl-s">'$output_weights'</span>;</td>
      </tr>
</tbody></table>

  </div>

  </div>
  
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thedatachef/7399003/raw/57507a3060dd12a1186343336d619c789da15328/fit_line.pig" style="float:right">view raw</a>
        <a href="https://gist.github.com/thedatachef/7399003#file-fit_line-pig">fit_line.pig</a>
        hosted with  by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>


There's really not much exciting going on here. We're loading the features and weights and rearranging them to satisfy the schema that the gradient descent macro expects. The other details are related to the driver script.<br>
<br>
The driver script is next. Since our algorithm is iterative and pig itself has no support for iteration, we're going to embed the pig script into a python (jython) program. Here's what that looks like:<br>
<br>
<script src="./Data Recipes_ Linear Regression With Pig_files/7399060.js"></script><link rel="stylesheet" href="./Data Recipes_ Linear Regression With Pig_files/embed-2cd369fa1c0830bd3aa06c21d4f14a13e060d2d31bbaae740f4af4602b825bd9.css"><div id="gist7399060" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-driver-py" class="file">
    

  <div class="blob-wrapper data type-python">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-driver-py-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-driver-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#!/usr/bin/env python</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-driver-py-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-driver-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> os</td>
      </tr>
      <tr>
        <td id="file-driver-py-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-driver-py-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> sys</td>
      </tr>
      <tr>
        <td id="file-driver-py-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-driver-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> shutil</td>
      </tr>
      <tr>
        <td id="file-driver-py-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-driver-py-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> random</td>
      </tr>
      <tr>
        <td id="file-driver-py-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-driver-py-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> tempfile</td>
      </tr>
      <tr>
        <td id="file-driver-py-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-driver-py-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> Queue</td>
      </tr>
      <tr>
        <td id="file-driver-py-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-driver-py-LC9" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-driver-py-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> org.apache.pig.scripting <span class="pl-k">import</span> Pig </td>
      </tr>
      <tr>
        <td id="file-driver-py-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-driver-py-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> org.codehaus.jackson.map <span class="pl-k">import</span> ObjectMapper</td>
      </tr>
      <tr>
        <td id="file-driver-py-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-driver-py-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-driver-py-LC13" class="blob-code blob-code-inner js-file-line">EPS          <span class="pl-k">=</span> <span class="pl-c1">10e-6</span>      <span class="pl-c"># maximum distance between consective weights for convergence</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-driver-py-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-driver-py-LC15" class="blob-code blob-code-inner js-file-line">pig_script   <span class="pl-k">=</span> sys.argv[<span class="pl-c1">1</span>] <span class="pl-c"># pig script to run iteratively</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-driver-py-LC16" class="blob-code blob-code-inner js-file-line">data_dir     <span class="pl-k">=</span> sys.argv[<span class="pl-c1">2</span>] <span class="pl-c"># directory where intermediate weights will be written</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-driver-py-LC17" class="blob-code blob-code-inner js-file-line">features     <span class="pl-k">=</span> sys.argv[<span class="pl-c1">3</span>] <span class="pl-c"># location, inside data_dir, where the data to fit exists</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-driver-py-LC18" class="blob-code blob-code-inner js-file-line">num_features <span class="pl-k">=</span> sys.argv[<span class="pl-c1">4</span>] <span class="pl-c"># number of features</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-driver-py-LC19" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-driver-py-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-driver-py-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-c"># Cleanup data dir</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-driver-py-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-driver-py-LC23" class="blob-code blob-code-inner js-file-line">cmd <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>rmr <span class="pl-c1">%s</span>/weight-*<span class="pl-pds">"</span></span> <span class="pl-k">%</span> data_dir    </td>
      </tr>
      <tr>
        <td id="file-driver-py-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-driver-py-LC24" class="blob-code blob-code-inner js-file-line">Pig.fs(cmd)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-driver-py-LC25" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-driver-py-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-driver-py-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-c"># Initialize weights</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-driver-py-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-driver-py-LC29" class="blob-code blob-code-inner js-file-line">w0_fields <span class="pl-k">=</span> []</td>
      </tr>
      <tr>
        <td id="file-driver-py-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-driver-py-LC30" class="blob-code blob-code-inner js-file-line">weights   <span class="pl-k">=</span> []</td>
      </tr>
      <tr>
        <td id="file-driver-py-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-driver-py-LC31" class="blob-code blob-code-inner js-file-line"><span class="pl-k">for</span> i <span class="pl-k">in</span> <span class="pl-c1">xrange</span>(<span class="pl-c1">int</span>(num_features)):</td>
      </tr>
      <tr>
        <td id="file-driver-py-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-driver-py-LC32" class="blob-code blob-code-inner js-file-line">    weights.append(<span class="pl-c1">str</span>(random.random()))    </td>
      </tr>
      <tr>
        <td id="file-driver-py-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-driver-py-LC33" class="blob-code blob-code-inner js-file-line">    w0_fields.append({<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>w<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> i,<span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>:<span class="pl-c1">25</span>,<span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span>:<span class="pl-c1">None</span>}) <span class="pl-c"># See Pig's DataType.java</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-driver-py-LC34" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-driver-py-LC35" class="blob-code blob-code-inner js-file-line">path <span class="pl-k">=</span> tempfile.mkdtemp()</td>
      </tr>
      <tr>
        <td id="file-driver-py-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-driver-py-LC36" class="blob-code blob-code-inner js-file-line">w0   <span class="pl-k">=</span> <span class="pl-c1">open</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>/part-r-00000<span class="pl-pds">"</span></span> <span class="pl-k">%</span> path, <span class="pl-s"><span class="pl-pds">'</span>w<span class="pl-pds">'</span></span>)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-driver-py-LC37" class="blob-code blob-code-inner js-file-line">w0.write(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\t</span><span class="pl-pds">"</span></span>.join(weights)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-driver-py-LC38" class="blob-code blob-code-inner js-file-line">w0.close()</td>
      </tr>
      <tr>
        <td id="file-driver-py-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-driver-py-LC39" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-driver-py-LC40" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-driver-py-LC41" class="blob-code blob-code-inner js-file-line"><span class="pl-c"># Create schema for weights, place under weight-0 dir</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-driver-py-LC42" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-driver-py-LC43" class="blob-code blob-code-inner js-file-line">w0_schema      <span class="pl-k">=</span> {<span class="pl-s"><span class="pl-pds">"</span>fields<span class="pl-pds">"</span></span>:w0_fields,<span class="pl-s"><span class="pl-pds">"</span>version<span class="pl-pds">"</span></span>:<span class="pl-c1">0</span>,<span class="pl-s"><span class="pl-pds">"</span>sortKeys<span class="pl-pds">"</span></span>:[],<span class="pl-s"><span class="pl-pds">"</span>sortKeyOrders<span class="pl-pds">"</span></span>:[]}</td>
      </tr>
      <tr>
        <td id="file-driver-py-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-driver-py-LC44" class="blob-code blob-code-inner js-file-line">w0_schema_file <span class="pl-k">=</span> <span class="pl-c1">open</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>/.pig_schema<span class="pl-pds">"</span></span> <span class="pl-k">%</span> path, <span class="pl-s"><span class="pl-pds">'</span>w<span class="pl-pds">'</span></span>)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-driver-py-LC45" class="blob-code blob-code-inner js-file-line">ObjectMapper().writeValue(w0_schema_file, w0_schema);</td>
      </tr>
      <tr>
        <td id="file-driver-py-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-driver-py-LC46" class="blob-code blob-code-inner js-file-line">w0_schema_file.close()</td>
      </tr>
      <tr>
        <td id="file-driver-py-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-driver-py-LC47" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-driver-py-LC48" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-driver-py-LC49" class="blob-code blob-code-inner js-file-line"><span class="pl-c"># Copy initial weights to fs</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-driver-py-LC50" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-driver-py-LC51" class="blob-code blob-code-inner js-file-line">copyFromLocal <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>copyFromLocal <span class="pl-c1">%s</span> <span class="pl-c1">%s</span>/<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (path, data_dir, <span class="pl-s"><span class="pl-pds">"</span>weight-0<span class="pl-pds">"</span></span>)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-driver-py-LC52" class="blob-code blob-code-inner js-file-line">Pig.fs(copyFromLocal)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-driver-py-LC53" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-driver-py-LC54" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-driver-py-LC55" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-driver-py-LC56" class="blob-code blob-code-inner js-file-line"><span class="pl-c"># Iterate until converged</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-driver-py-LC57" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-driver-py-LC58" class="blob-code blob-code-inner js-file-line">features     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>/<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (data_dir,features)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-driver-py-LC59" class="blob-code blob-code-inner js-file-line">script       <span class="pl-k">=</span> Pig.compileFromFile(pig_script)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-driver-py-LC60" class="blob-code blob-code-inner js-file-line">weight_queue <span class="pl-k">=</span> Queue.Queue(<span class="pl-c1">25</span>) <span class="pl-c"># for moving average</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-driver-py-LC61" class="blob-code blob-code-inner js-file-line">avg_weight   <span class="pl-k">=</span> [<span class="pl-c1">0.0</span> <span class="pl-k">for</span> i <span class="pl-k">in</span> <span class="pl-c1">xrange</span>(<span class="pl-c1">int</span>(num_features))]</td>
      </tr>
      <tr>
        <td id="file-driver-py-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-driver-py-LC62" class="blob-code blob-code-inner js-file-line">converged    <span class="pl-k">=</span> <span class="pl-c1">False</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-driver-py-LC63" class="blob-code blob-code-inner js-file-line">prev         <span class="pl-k">=</span> <span class="pl-c1">0</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-driver-py-LC64" class="blob-code blob-code-inner js-file-line">weight_dir   <span class="pl-k">=</span> tempfile.mkdtemp()</td>
      </tr>
      <tr>
        <td id="file-driver-py-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-driver-py-LC65" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-driver-py-LC66" class="blob-code blob-code-inner js-file-line"><span class="pl-k">while</span> <span class="pl-k">not</span> converged:</td>
      </tr>
      <tr>
        <td id="file-driver-py-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-driver-py-LC67" class="blob-code blob-code-inner js-file-line">    input_weights  <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>/weight-<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (data_dir,prev)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-driver-py-LC68" class="blob-code blob-code-inner js-file-line">    output_weights <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>/weight-<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (data_dir,prev<span class="pl-k">+</span><span class="pl-c1">1</span>)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-driver-py-LC69" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-driver-py-LC70" class="blob-code blob-code-inner js-file-line">    bound <span class="pl-k">=</span> script.bind({<span class="pl-s"><span class="pl-pds">'</span>input_weights<span class="pl-pds">'</span></span>:input_weights,<span class="pl-s"><span class="pl-pds">'</span>output_weights<span class="pl-pds">'</span></span>:output_weights,<span class="pl-s"><span class="pl-pds">'</span>data<span class="pl-pds">'</span></span>:features})</td>
      </tr>
      <tr>
        <td id="file-driver-py-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-driver-py-LC71" class="blob-code blob-code-inner js-file-line">    bound.runSingle()</td>
      </tr>
      <tr>
        <td id="file-driver-py-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-driver-py-LC72" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-driver-py-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-driver-py-LC73" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-driver-py-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-driver-py-LC74" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-driver-py-LC75" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"># Copy schema for weights to each output</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-driver-py-LC76" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-driver-py-LC77" class="blob-code blob-code-inner js-file-line">    copyOutputSchema <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>cp <span class="pl-c1">%s</span>/.pig_schema <span class="pl-c1">%s</span>/.pig_schema<span class="pl-pds">"</span></span> <span class="pl-k">%</span> (input_weights, output_weights)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-driver-py-LC78" class="blob-code blob-code-inner js-file-line">    Pig.fs(copyOutputSchema)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-driver-py-LC79" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-driver-py-LC80" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-driver-py-LC81" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"># The first few iterations the weights bounce all over the place</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-driver-py-LC82" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-driver-py-LC83" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (prev <span class="pl-k">&gt;</span> <span class="pl-c1">1</span>):</td>
      </tr>
      <tr>
        <td id="file-driver-py-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-driver-py-LC84" class="blob-code blob-code-inner js-file-line">        copyToLocalPrev <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>copyToLocal <span class="pl-c1">%s</span>/part-r-00000 <span class="pl-c1">%s</span>/weight-<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (input_weights, weight_dir, prev)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-driver-py-LC85" class="blob-code blob-code-inner js-file-line">        copyToLocalNext <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>copyToLocal <span class="pl-c1">%s</span>/part-r-00000 <span class="pl-c1">%s</span>/weight-<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (output_weights, weight_dir, prev<span class="pl-k">+</span><span class="pl-c1">1</span>)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-driver-py-LC86" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-driver-py-LC87" class="blob-code blob-code-inner js-file-line">        Pig.fs(copyToLocalPrev)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-driver-py-LC88" class="blob-code blob-code-inner js-file-line">        Pig.fs(copyToLocalNext)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-driver-py-LC89" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-driver-py-LC90" class="blob-code blob-code-inner js-file-line">        localPrev <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>/weight-<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (weight_dir, prev)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-driver-py-LC91" class="blob-code blob-code-inner js-file-line">        localNext <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>/weight-<span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> (weight_dir, prev<span class="pl-k">+</span><span class="pl-c1">1</span>)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-driver-py-LC92" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="file-driver-py-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-driver-py-LC93" class="blob-code blob-code-inner js-file-line">        x1 <span class="pl-k">=</span> <span class="pl-c1">open</span>(localPrev,<span class="pl-s"><span class="pl-pds">'</span>r<span class="pl-pds">'</span></span>).readlines()[<span class="pl-c1">0</span>]</td>
      </tr>
      <tr>
        <td id="file-driver-py-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-driver-py-LC94" class="blob-code blob-code-inner js-file-line">        x2 <span class="pl-k">=</span> <span class="pl-c1">open</span>(localNext,<span class="pl-s"><span class="pl-pds">'</span>r<span class="pl-pds">'</span></span>).readlines()[<span class="pl-c1">0</span>]</td>
      </tr>
      <tr>
        <td id="file-driver-py-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-driver-py-LC95" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-driver-py-LC96" class="blob-code blob-code-inner js-file-line">        x1 <span class="pl-k">=</span> [<span class="pl-c1">float</span>(x.strip()) <span class="pl-k">for</span> x <span class="pl-k">in</span> x1.split(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\t</span><span class="pl-pds">"</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-driver-py-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-driver-py-LC97" class="blob-code blob-code-inner js-file-line">        x2 <span class="pl-k">=</span> [<span class="pl-c1">float</span>(x.strip()) <span class="pl-k">for</span> x <span class="pl-k">in</span> x2.split(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\t</span><span class="pl-pds">"</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-driver-py-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-driver-py-LC98" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-driver-py-LC99" class="blob-code blob-code-inner js-file-line">        weight_queue.put(x1)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-driver-py-LC100" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-driver-py-LC101" class="blob-code blob-code-inner js-file-line">        avg_weight <span class="pl-k">=</span> [x[<span class="pl-c1">1</span>] <span class="pl-k">+</span> (x[<span class="pl-c1">0</span>] <span class="pl-k">-</span> x[<span class="pl-c1">1</span>])<span class="pl-k">/</span>(prev<span class="pl-k">-</span><span class="pl-c1">1.0</span>) <span class="pl-k">for</span> x <span class="pl-k">in</span> <span class="pl-c1">zip</span>(x1,avg_weight)]</td>
      </tr>
      <tr>
        <td id="file-driver-py-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-driver-py-LC102" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="file-driver-py-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-driver-py-LC103" class="blob-code blob-code-inner js-file-line">        <span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-driver-py-LC104" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"># Make sure to collect enough weights into the average before</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-driver-py-LC105" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"># checking for convergence</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-driver-py-LC106" class="blob-code blob-code-inner js-file-line">        <span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="file-driver-py-LC107" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (prev <span class="pl-k">&gt;</span> <span class="pl-c1">25</span>):</td>
      </tr>
      <tr>
        <td id="file-driver-py-L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="file-driver-py-LC108" class="blob-code blob-code-inner js-file-line">            first_weight <span class="pl-k">=</span> weight_queue.get()</td>
      </tr>
      <tr>
        <td id="file-driver-py-L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="file-driver-py-LC109" class="blob-code blob-code-inner js-file-line">            avg_weight   <span class="pl-k">=</span> [(x[<span class="pl-c1">0</span>] <span class="pl-k">-</span> x[<span class="pl-c1">1</span>]<span class="pl-k">/</span><span class="pl-c1">25.0</span> <span class="pl-k">+</span> x[<span class="pl-c1">2</span>]<span class="pl-k">/</span><span class="pl-c1">25.0</span>) <span class="pl-k">for</span> x <span class="pl-k">in</span> <span class="pl-c1">zip</span>(avg_weight, first_weight, x1)]</td>
      </tr>
      <tr>
        <td id="file-driver-py-L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="file-driver-py-LC110" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="file-driver-py-L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="file-driver-py-LC111" class="blob-code blob-code-inner js-file-line">            <span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="file-driver-py-LC112" class="blob-code blob-code-inner js-file-line">            <span class="pl-c"># Compute distance from weight centroid to new weight </span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="file-driver-py-LC113" class="blob-code blob-code-inner js-file-line">            <span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="file-driver-py-LC114" class="blob-code blob-code-inner js-file-line">            d <span class="pl-k">=</span> <span class="pl-c1">sum</span>([(pair[<span class="pl-c1">0</span>] <span class="pl-k">-</span> pair[<span class="pl-c1">1</span>])<span class="pl-k">**</span><span class="pl-c1">2</span> <span class="pl-k">for</span> pair <span class="pl-k">in</span> <span class="pl-c1">zip</span>(x2,avg_weight)])</td>
      </tr>
      <tr>
        <td id="file-driver-py-L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="file-driver-py-LC115" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="file-driver-py-L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="file-driver-py-LC116" class="blob-code blob-code-inner js-file-line">            converged <span class="pl-k">=</span> (d <span class="pl-k">&lt;</span> EPS)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="file-driver-py-LC117" class="blob-code blob-code-inner js-file-line">                    </td>
      </tr>
      <tr>
        <td id="file-driver-py-L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="file-driver-py-LC118" class="blob-code blob-code-inner js-file-line">        os.remove(localPrev)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="file-driver-py-LC119" class="blob-code blob-code-inner js-file-line">        os.remove(localNext)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="file-driver-py-LC120" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="file-driver-py-L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="file-driver-py-LC121" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-driver-py-L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="file-driver-py-LC122" class="blob-code blob-code-inner js-file-line">    prev <span class="pl-k">+=</span> <span class="pl-c1">1</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="file-driver-py-LC123" class="blob-code blob-code-inner js-file-line">     </td>
      </tr>
      <tr>
        <td id="file-driver-py-L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="file-driver-py-LC124" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="file-driver-py-LC125" class="blob-code blob-code-inner js-file-line"><span class="pl-c"># Cleanup</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="file-driver-py-LC126" class="blob-code blob-code-inner js-file-line"><span class="pl-c">#</span></td>
      </tr>
      <tr>
        <td id="file-driver-py-L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="file-driver-py-LC127" class="blob-code blob-code-inner js-file-line">shutil.rmtree(path)</td>
      </tr>
      <tr>
        <td id="file-driver-py-L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="file-driver-py-LC128" class="blob-code blob-code-inner js-file-line">shutil.rmtree(weight_dir)</td>
      </tr>
</tbody></table>

  </div>

  </div>
  
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/thedatachef/7399060/raw/f6919bfd869ea793781fc6bb4cb6cf1c370f8805/driver.py" style="float:right">view raw</a>
        <a href="https://gist.github.com/thedatachef/7399060#file-driver-py">driver.py</a>
        hosted with  by <a href="https://github.com/">GitHub</a>
      </div>
    </div>
</div>


There's a lot going on here (it's cluttered looking because Pig doesn't allow class or function definitions in driver scripts) that's not that interesting and pretty easy to understand so I'll just go over the high points:<br>
<ul>
<li>We initialize the weights randomly and write a .pig_schema file as well. The reason for writing the schema file is so that it's unnecessary to write the redundant schema for weights in the pig script itself.</li>
<li>We want the driver to be agnostic to whether we're running in local mode or mapreduce mode. Thus we copy the weights to the filesystem using the <i>copyFromLocal</i>&nbsp;fs command. In local mode this just puts the initial weights on the local fs whereas in mapreduce mode this'll place them on the hdfs.</li>
<li>Then we iterate until the convergence criteria is met. Each iteration details like copying the schema, and pulling down the weights to compute distances is done.</li>
<li>A moving average is maintained over the past 25 weights. Iteration stops when the new weight is less than EPS away from the average.</li>
</ul>
<div>
Aside from that there's an interesting -bug?- that comes up as a result of this. Notice on line 70 how the new variables are bound each iteration? Well the underlying PigContext object just keeps adding these new variables instead of overwriting them. What this means is that, after a couple thousand iterations, depending on your PIG_HEAPSIZE env variable, the driver script will crash from an out of memory error. Yikes.</div>
<div>
<br></div>
<h3>
run it</h3>
<div>
Finally we get to run it. That part's easy:</div>
<div>
<br></div>
<div>
<div><div id="highlighter_700392" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://thedatachef.blogspot.fr/2013/11/linear-regression-with-pig.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">$: export PIG_HEAPSIZE=4000</code></div><div class="line number2 index1 alt1"><code class="plain plain">$: pig driver.py fit_line.pig data data.tsv 2</code></div></div></td></tr></tbody></table></div></div>
<div><div id="highlighter_893059" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://thedatachef.blogspot.fr/2013/11/linear-regression-with-pig.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2">&nbsp;</div></div></td></tr></tbody></table></div></div>
That is, we use the pig command to launch the driver program. The arguments to the driver script itself follow. We're running the fit_line.pig script where the data dir (where intermediate weights will go) exists under 'data' and the input data, data.tsv, should exist there as well. The '2' indicates we've got two weights (w0, and w1). The pig heapsize is to deal with the bug mentioned in the previous section.<br>
<br>
On my laptop, in local mode, the convergence criteria was met after 1527 iterations.<br>
<br>
<h3>
results</h3>
<div>
<br>
After 1527 iterations the weights ended up as (0.0040666759502969215,&nbsp;2.0068029003414014) which is exactly what we'd expect. In other words:</div>
<div>
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable columnalign=&quot;right center left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0 thickmathspace&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0.0041&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2.0068&lt;/mn&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-221" role="math" style="width: 12.208em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.683em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.266em 1009.44em 2.649em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-222"><span class="mtable" id="MathJax-Span-223" style="padding-right: 0.183em; padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 9.262em; height: 0px;"><span style="position: absolute; clip: rect(3.25em 1009.2em 4.452em -999.997em); top: -4.025em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 9.262em; height: 0px;"><span style="position: absolute; clip: rect(3.19em 1009.2em 4.392em -999.997em); top: -3.965em; right: 0.003em;"><span class="mtd" id="MathJax-Span-224"><span class="mrow" id="MathJax-Span-225"><span class="mi" id="MathJax-Span-226" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-227" style="font-family: MathJax_Main; padding-left: 0.304em;">=</span><span class="mn" id="MathJax-Span-228" style="font-family: MathJax_Main; padding-left: 0.304em;">0.0041</span><span class="mo" id="MathJax-Span-229" style="font-family: MathJax_Main; padding-left: 0.244em;">+</span><span class="mn" id="MathJax-Span-230" style="font-family: MathJax_Main; padding-left: 0.244em;">2.0068</span><span class="mi" id="MathJax-Span-231" style="font-family: MathJax_Math-italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.375em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.443em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left" rowspacing="3pt" columnspacing="0 thickmathspace" displaystyle="true"><mtr><mtd><mi>y</mi><mo>=</mo><mn>0.0041</mn><mo>+</mo><mn>2.0068</mn><mi>x</mi></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-23">\begin{eqnarray*}y=0.0041 + 2.0068x\end{eqnarray*}</script></div>
which is the 'best fit' line to our original:<br>
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable columnalign=&quot;right center left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0 thickmathspace&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0.3&lt;/mn&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-232" role="math" style="width: 9.743em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.699em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.266em 1007.46em 2.709em -999.997em); top: -2.222em; left: 0.003em;"><span class="mrow" id="MathJax-Span-233"><span class="mtable" id="MathJax-Span-234" style="padding-right: 0.183em; padding-left: 0.183em;"><span style="display: inline-block; position: relative; width: 7.278em; height: 0px;"><span style="position: absolute; clip: rect(3.13em 1007.28em 4.512em -999.997em); top: -4.025em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 7.278em; height: 0px;"><span style="position: absolute; clip: rect(3.13em 1007.28em 4.452em -999.997em); top: -4.025em; right: 0.003em;"><span class="mtd" id="MathJax-Span-235"><span class="mrow" id="MathJax-Span-236"><span class="mi" id="MathJax-Span-237" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-238" style="font-family: MathJax_Main; padding-left: 0.304em;">=</span><span class="mn" id="MathJax-Span-239" style="font-family: MathJax_Main; padding-left: 0.304em;">0.3</span><span class="mi" id="MathJax-Span-240" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-241" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-242" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-243" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-244" style="font-family: MathJax_Main; padding-left: 0.244em;">+</span><span class="mn" id="MathJax-Span-245" style="font-family: MathJax_Main; padding-left: 0.244em;">2</span><span class="mi" id="MathJax-Span-246" style="font-family: MathJax_Math-italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.031em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.228em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.451em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.443em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left" rowspacing="3pt" columnspacing="0 thickmathspace" displaystyle="true"><mtr><mtd><mi>y</mi><mo>=</mo><mn>0.3</mn><mi>r</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mn>2</mn><mi>x</mi></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-24">\begin{eqnarray*}y=0.3r(x) + 2x\end{eqnarray*}</script><br>
<br>
And here's an illustration of what happened.<br>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-Nhin3-R_0Og/UoULAM9LQgI/AAAAAAAAATs/vIy0F-0X274/s1600/fit_data.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="./Data Recipes_ Linear Regression With Pig_files/fit_data.png" width="320"></a></div>
<br>
Looks pretty reasonable to me. Hurray. Now go fit some real data.</div>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1"><span class="post-author vcard">
Posted by
<span class="fn">thedatachef</span>
</span>
<span class="post-timestamp">
at
<a class="timestamp-link" href="./Data Recipes_ Linear Regression With Pig_files/Data Recipes_ Linear Regression With Pig.html" rel="bookmark" title="permanent link"><abbr class="published" title="2013-11-14T10:02:00-08:00">10:02 AM</abbr></a>
</span>
<span class="post-comment-link">
</span>
<span class="post-icons">
<span class="item-control blog-admin pid-1584508304">
<a href="https://www.blogger.com/post-edit.g?blogID=2875432366090970056&postID=3087018930634651322&from=pencil" title="Edit Post">
<img alt="" class="icon-action" height="18" src="./Data Recipes_ Linear Regression With Pig_files/icon18_edit_allbkg.gif" width="18">
</a>
</span>
</span>
<div class="post-share-buttons">
<a class="goog-inline-block share-button sb-email" href="https://www.blogger.com/share-post.g?blogID=2875432366090970056&postID=3087018930634651322&target=email" target="_blank" title="Email This"><span class="share-button-link-text">Email This</span></a><a class="goog-inline-block share-button sb-blog" href="https://www.blogger.com/share-post.g?blogID=2875432366090970056&postID=3087018930634651322&target=blog" onclick="window.open(this.href, &quot;_blank&quot;, &quot;height=270,width=475&quot;); return false;" target="_blank" title="BlogThis!"><span class="share-button-link-text">BlogThis!</span></a><a class="goog-inline-block share-button sb-twitter" href="https://www.blogger.com/share-post.g?blogID=2875432366090970056&postID=3087018930634651322&target=twitter" target="_blank" title="Share to Twitter"><span class="share-button-link-text">Share to Twitter</span></a><a class="goog-inline-block share-button sb-facebook" href="https://www.blogger.com/share-post.g?blogID=2875432366090970056&postID=3087018930634651322&target=facebook" onclick="window.open(this.href, &quot;_blank&quot;, &quot;height=430,width=640&quot;); return false;" target="_blank" title="Share to Facebook"><span class="share-button-link-text">Share to Facebook</span></a><a class="goog-inline-block share-button sb-pinterest" href="https://www.blogger.com/share-post.g?blogID=2875432366090970056&postID=3087018930634651322&target=pinterest" target="_blank" title="Share to Pinterest"><span class="share-button-link-text">Share to Pinterest</span></a><div class="goog-inline-block google-plus-share-container"><div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 300px; height: 20px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 300px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1451833802493" name="I0_1451833802493" src="./Data Recipes_ Linear Regression With Pig_files/fastbutton(1).html" data-gapiattached="true" title="+1"></iframe></div></div>
</div>
</div>
<div class="post-footer-line post-footer-line-2"><span class="post-labels">
Labels:
<a href="http://thedatachef.blogspot.fr/search/label/apache%20hadoop" rel="tag">apache hadoop</a>,
<a href="http://thedatachef.blogspot.fr/search/label/apache%20pig" rel="tag">apache pig</a>,
<a href="http://thedatachef.blogspot.fr/search/label/hadoop" rel="tag">hadoop</a>,
<a href="http://thedatachef.blogspot.fr/search/label/hadoop%20regression" rel="tag">hadoop regression</a>,
<a href="http://thedatachef.blogspot.fr/search/label/linear%20regression" rel="tag">linear regression</a>,
<a href="http://thedatachef.blogspot.fr/search/label/pig" rel="tag">pig</a>,
<a href="http://thedatachef.blogspot.fr/search/label/pig%20examples" rel="tag">pig examples</a>,
<a href="http://thedatachef.blogspot.fr/search/label/pig%20python" rel="tag">pig python</a>,
<a href="http://thedatachef.blogspot.fr/search/label/pig%20regression" rel="tag">pig regression</a>,
<a href="http://thedatachef.blogspot.fr/search/label/python%20driver" rel="tag">python driver</a>
</span>
</div>
<div class="post-footer-line post-footer-line-3"><span class="post-location">
</span>
</div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<h4>2 comments:</h4>
<div class="comments-content">
<script async="async" src="./Data Recipes_ Linear Regression With Pig_files/comments.js" type="text/javascript"></script>
<script type="text/javascript">
    (function() {
      var items = [{'id': '62132271944166488', 'body': 'Awesomiddityawesome!', 'timestamp': '1384486092655', 'permalink': 'http://thedatachef.blogspot.com/2013/11/linear-regression-with-pig.html?showComment\0751384486092655#c62132271944166488', 'author': {'name': 'rjurney', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/15491522245854902202'}, 'displayTime': 'November 14, 2013 at 7:28 PM', 'deleteclass': 'item-control blog-admin pid-1510045031'}, {'id': '6434155008571845144', 'body': 'I\46#39;ve tried it on the cluster but it doesn\46#39;t work :( When it reaches \46#39;zipped \75 Zip($w.weights, vector);\46#39;, I get the runtime exception error \46#39;ERROR 0: Scalar has more than one row in the output. That is very confused. weight.weights is just one single tuple, like vector, why can\46#39;t we use it as input argument of udf ?\74br /\76\74br /\76\74br /\76\46#39;', 'timestamp': '1403077965315', 'permalink': 'http://thedatachef.blogspot.com/2013/11/linear-regression-with-pig.html?showComment\0751403077965315#c6434155008571845144', 'author': {'name': 'han yufei', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/14642203787483737844'}, 'displayTime': 'June 18, 2014 at 12:52 AM', 'deleteclass': 'item-control blog-admin pid-1440728859'}];
      var msgs = {'loadMore': 'Load more...', 'loading': 'Loading...', 'loaded': 'No more!', 'addComment': 'Add comment', 'reply': 'Reply', 'delete': 'Delete'};
      var config = {'blogId': '2875432366090970056', 'postId': '3087018930634651322', 'feed': 'http://thedatachef.blogspot.com/feeds/3087018930634651322/comments/default', 'authorName': 'thedatachef', 'authorUrl': 'https://www.blogger.com/profile/06156691310036989913', 'baseUri': 'https://www.blogger.com', 'maxThreadDepth': 2};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + entry.content.$t + '</span>';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
</script>
<div id="comment-holder">

<div id="bc_0_3C" kind="c"><div id="bc_0_3CT"><div id="bc_0_2T" class="comment-thread" kind="r" t="0" u="0"><ol id="bc_0_2TB"><li id="bc_0_0B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Data Recipes_ Linear Regression With Pig_files/b36-rounded.png"></div><div id="c62132271944166488" class="comment-block"><div id="bc_0_0M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/15491522245854902202">rjurney</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://thedatachef.blogspot.com/2013/11/linear-regression-with-pig.html?showComment=1384486092655#c62132271944166488">November 14, 2013 at 7:28 PM</a></span></div><p id="bc_0_0MC" class="comment-content">Awesomiddityawesome!</p><span id="bc_0_0MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1510045031"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=2875432366090970056&postID=62132271944166488">Delete</a></span></span></div><div id="bc_0_0BR" class="comment-replies"></div><div id="bc_0_0B_box" class="comment-replybox-single"></div></li><li id="bc_0_1B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Data Recipes_ Linear Regression With Pig_files/b36-rounded.png"></div><div id="c6434155008571845144" class="comment-block"><div id="bc_0_1M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/14642203787483737844">han yufei</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://thedatachef.blogspot.com/2013/11/linear-regression-with-pig.html?showComment=1403077965315#c6434155008571845144">June 18, 2014 at 12:52 AM</a></span></div><p id="bc_0_1MC" class="comment-content">I've tried it on the cluster but it doesn't work :( When it reaches 'zipped = Zip($w.weights, vector);', I get the runtime exception error 'ERROR 0: Scalar has more than one row in the output. That is very confused. weight.weights is just one single tuple, like vector, why can't we use it as input argument of udf ?<br><br><br>'</p><span id="bc_0_1MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1440728859"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=2875432366090970056&postID=6434155008571845144">Delete</a></span></span></div><div id="bc_0_1BR" class="comment-replies"></div><div id="bc_0_1B_box" class="comment-replybox-single"></div></li></ol><div id="bc_0_2I" class="continue" kind="ci" style="display: none;"><a href="javascript:;" target="_self">Add comment</a></div><div id="bc_0_2T_box" class="comment-replybox-thread"><iframe allowtransparency="true" class="blogger-iframe-colorize blogger-comment-from-post" frameborder="0" height="310px" id="comment-editor" name="comment-editor" src="./Data Recipes_ Linear Regression With Pig_files/comment-iframe.html" width="100%" style="display: block;"></iframe></div><div id="bc_0_2L" class="loadmore loaded" kind="rb"><a href="javascript:;" target="_self">Load more...</a></div></div></div></div></div>
</div>
<p class="comment-footer">
</p><div class="comment-form">
<a name="comment-form"></a>
<p>
</p>
<a href="https://www.blogger.com/comment-iframe.g?blogID=2875432366090970056&postID=3087018930634651322&blogspotRpcToken=8799402" id="comment-editor-src"></a>

<script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/2443413180-comment_from_post_iframe.js"></script>
<script type="text/javascript">
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
<p></p>
<div id="backlinks-container">
<div id="Blog1_backlinks-container">
</div>
</div>
</div>
</div>
<div class="inline-ad">
<script type="text/javascript"><!--
google_ad_client="pub-8584185699690480";
google_ad_host="pub-1556223355139109";
google_ad_width=300;
google_ad_height=250;
google_ad_format="300x250_as";
google_ad_type="text_image";
google_ad_host_channel="0001";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="BB213A";
google_color_url="666666";
google_color_text="222222";
//--></script>
<script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/show_ads.js">
</script><ins id="aswift_0_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
</div>

        </div></div>
      
</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="http://thedatachef.blogspot.fr/2013/09/get-pig-logicalplan.html" id="Blog1_blog-pager-older-link" title="Older Post">Older Post</a>
</span>
<a class="home-link" href="http://thedatachef.blogspot.fr/">Home</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
<div class="feed-links">
Subscribe to:
<a class="feed-link" href="http://thedatachef.blogspot.com/feeds/3087018930634651322/comments/default" target="_blank" type="application/atom+xml">Post Comments (Atom)</a>
</div>
</div>
<script type="text/javascript">window.___gcfg = {'lang': 'en'};</script>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget AdSense" id="AdSense1">
<div class="widget-content">
<script type="text/javascript"><!--
google_ad_client="pub-8584185699690480";
google_ad_host="pub-1556223355139109";
google_alternate_ad_url="http://img2.blogblog.com/img/blogger_ad.html";
google_ad_width=120;
google_ad_height=600;
google_ad_format="120x600_as";
google_ad_type="text_image";
google_ad_host_channel="0001";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="000000";
google_color_url="BB213A";
google_color_text="222222";
//--></script>
<script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/show_ads.js">
</script><ins id="aswift_1_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:120px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:120px;background-color:transparent"><iframe width="120" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=2875432366090970056&widgetType=AdSense&widgetId=AdSense1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;AdSense1&quot;));" target="configAdSense1" title="Edit">
<img alt="" height="18" src="./Data Recipes_ Linear Regression With Pig_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget Followers" id="Followers1">
<h2 class="title">Followers</h2>
<div class="widget-content">
<div id="Followers1-wrapper">
<div style="margin-right:2px;">
<script type="text/javascript">
        if (!window.google || !google.friendconnect) {
          document.write('<script type="text/javascript"' +
              'src="//www.google.com/friendconnect/script/friendconnect.js">' +
              '</scr' + 'ipt>');
        }
      </script><script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/friendconnect.js"></script>
<script type="text/javascript">
      if (!window.registeredBloggerCallbacks) {
        window.registeredBloggerCallbacks = true;

        

        
        gadgets.rpc.register('requestReload', function() {
          document.location.reload();
        });

        
        gadgets.rpc.register('requestSignOut', function(siteId) {
          
          google.friendconnect.container.openSocialSiteId = siteId;
          google.friendconnect.requestSignOut();
        });
      }
    </script>
<script type="text/javascript">
    
    function registerGetBlogUrls() {
      gadgets.rpc.register('getBlogUrls', function() {
        var holder = {};
        
          
            
            
              holder.currentPost = "https://www.blogger.com/feeds/2875432366090970056/posts/default/3087018930634651322";
            
            
            
              holder.currentComments = "https://www.blogger.com/feeds/2875432366090970056/3087018930634651322/comments/default";
            
            holder.currentPostUrl = "";
            holder.currentPostId = 3087018930634651322
          
          
          
            holder.postFeed = "https://www.blogger.com/feeds/2875432366090970056/posts/default";
          
          
          
            holder.commentFeed = "https://www.blogger.com/feeds/2875432366090970056/comments/default";
          
          holder.currentBlogUrl = "http://thedatachef.blogspot.com/";
          holder.currentBlogId = "2875432366090970056";
        
        return holder;
      });
    }
  </script>
<script type="text/javascript">
  if (!window.registeredCommonBloggerCallbacks) {
    window.registeredCommonBloggerCallbacks = true;

    gadgets.rpc.register('resize_iframe', function(height) {
      var el = document.getElementById(this['f']);
      if (el) {
        el.style.height = height + 'px';
      }
    });

    
    gadgets.rpc.register('set_pref', function() {});

    registerGetBlogUrls();
  }
  </script>
<div id="div-srwpecpzi0h2" style="width: 100%; visibility: visible;" class="gadgets-gadget-container"><div id="gfc_iframe_547855240_0_body"><iframe id="gfc_iframe_547855240_0" name="gfc_iframe_547855240_0" style="width: 100%; height: 265px;" frameborder="0" scrolling="no" allowtransparency="true" height="260"></iframe></div></div>
<script type="text/javascript">
    var skin = {};
    skin['FACE_SIZE'] = '32';
    skin['HEIGHT'] = "260";
    skin['BORDER_COLOR'] = "transparent";
    skin['ENDCAP_BG_COLOR'] = "transparent";
    skin['ENDCAP_TEXT_COLOR'] = "#222222";
    skin['ENDCAP_LINK_COLOR'] = "#bb213a";
    
    skin['CONTENT_BG_COLOR'] = "transparent";
    skin['CONTENT_LINK_COLOR'] = "#bb213a";
    skin['CONTENT_TEXT_COLOR'] = "#222222";
    skin['CONTENT_SECONDARY_LINK_COLOR'] = "#bb213a";
    skin['CONTENT_SECONDARY_TEXT_COLOR'] = "#999999";
    skin['CONTENT_HEADLINE_COLOR'] = "#000000";
    google.friendconnect.container.setParentUrl("/");
    google.friendconnect.container["renderMembersGadget"](
    {id: "div-srwpecpzi0h2",
     height: 260,
     
     
     
     site: "08930232665135200493",
     locale: 'en' },
     skin);
  </script>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=2875432366090970056&widgetType=Followers&widgetId=Followers1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Followers1&quot;));" target="configFollowers1" title="Edit">
<img alt="" height="18" src="./Data Recipes_ Linear Regression With Pig_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget BlogArchive" id="BlogArchive1">
<h2>Blog Archive</h2>
<div class="widget-content">
<div id="ArchiveList">
<div id="BlogArchive1_ArchiveList">
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/search?updated-min=2013-01-01T00:00:00-08:00&updated-max=2014-01-01T00:00:00-08:00&max-results=3">
2013
</a>
<span class="post-count" dir="ltr">(3)</span>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2013_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(1)</span>
<ul class="posts">
<li><a href="./Data Recipes_ Linear Regression With Pig_files/Data Recipes_ Linear Regression With Pig.html">Linear Regression With Pig</a></li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2013_09_01_archive.html">
September
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2013_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/search?updated-min=2012-01-01T00:00:00-08:00&updated-max=2013-01-01T00:00:00-08:00&max-results=2">
2012
</a>
<span class="post-count" dir="ltr">(2)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2012_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2012_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/search?updated-min=2011-01-01T00:00:00-08:00&updated-max=2012-01-01T00:00:00-08:00&max-results=21">
2011
</a>
<span class="post-count" dir="ltr">(21)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2011_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2011_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2011_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2011_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        &nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://thedatachef.blogspot.fr/2011_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(15)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=2875432366090970056&widgetType=BlogArchive&widgetId=BlogArchive1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;BlogArchive1&quot;));" target="configBlogArchive1" title="Edit">
<img alt="" height="18" src="./Data Recipes_ Linear Regression With Pig_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget Profile" id="Profile1">
<h2>About Me</h2>
<div class="widget-content">
<a href="https://www.blogger.com/profile/06156691310036989913"><img alt="My Photo" class="profile-img" height="60" src="./Data Recipes_ Linear Regression With Pig_files/gee_whiz.jpg" width="80"></a>
<dl class="profile-datablock">
<dt class="profile-data">
<a class="profile-name-link g-profile" href="https://www.blogger.com/profile/06156691310036989913" rel="author" style="background-image: url(//www.blogger.com/img/logo-16.png);" data-gapiscan="true" data-onload="true" data-gapiattached="true">
thedatachef
</a>
</dt>
<dd class="profile-textblock">@thedatachef</dd>
</dl>
<a class="profile-link" href="https://www.blogger.com/profile/06156691310036989913" rel="author">View my complete profile</a>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=2875432366090970056&widgetType=Profile&widgetId=Profile1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Profile1&quot;));" target="configProfile1" title="Edit">
<img alt="" height="18" src="./Data Recipes_ Linear Regression With Pig_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style="clear: both"></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class="main-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<footer>
<div class="footer-outer">
<div class="footer-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left footer-fauxborder-left">
<div class="fauxborder-right footer-fauxborder-right"></div>
<div class="region-inner footer-inner">
<div class="foot section" id="footer-1"></div>
<table border="0" cellpadding="0" cellspacing="0" class="section-columns columns-2">
<tbody>
<tr>
<td class="first columns-cell">
<div class="foot section" id="footer-2-1"></div>
</td>
<td class="columns-cell">
<div class="foot section" id="footer-2-2"></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class="foot section" id="footer-3"><div class="widget Attribution" id="Attribution1">
<div class="widget-content" style="text-align: center;">
Simple template. Powered by <a href="https://www.blogger.com/" target="_blank">Blogger</a>.
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=2875432366090970056&widgetType=Attribution&widgetId=Attribution1&action=editWidget&sectionId=footer-3" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Attribution1&quot;));" target="configAttribution1" title="Edit">
<img alt="" height="18" src="./Data Recipes_ Linear Regression With Pig_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div></div>
</div>
</div>
<div class="footer-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div><iframe frameborder="0" id="google_top_static_frame" name="google_top_static_frame" src="./Data Recipes_ Linear Regression With Pig_files/blank.html" style="height: 0px; width: 0px; position: absolute;"></iframe>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('widgetJsBefore');
</script>

<!-- 'Il est de votre responsabilit d\47informer vos visiteurs  propos des cookies utiliss sur votre blog. Rendez-vous sur http://www.blogger.com/go/cookiechoices pour en savoir plus.' -->
<script src="./Data Recipes_ Linear Regression With Pig_files/cookiechoices.js" defer=""></script>
<script>
  document.addEventListener('DOMContentLoaded', function(event) {
    window.cookieChoices && cookieChoices.showCookieConsentBar && cookieChoices.showCookieConsentBar(
        (window.cookieOptions && cookieOptions.msg) || 'Ce site utilise des cookies provenant de Google afin de fournir ses services, personnaliser les annonces et analyser le trafic. Les informations relatives  votre utilisation du site sont partages avec Google. En acceptant ce site, vous acceptez l\47utilisation des cookies.',
        (window.cookieOptions && cookieOptions.close) || 'OK!',
        (window.cookieOptions && cookieOptions.learn) || 'En savoir plus',
        (window.cookieOptions && cookieOptions.link) || 'https://www.blogger.com/go/blogspot-cookies');
  });
</script>

<script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/278981662-widgets.js"></script>
<script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript">
if (typeof(BLOG_attachCsiOnload) != 'undefined' && BLOG_attachCsiOnload != null) { window['blogger_templates_experiment_id'] = "templatesV2";window['blogger_blog_id'] = '2875432366090970056';BLOG_attachCsiOnload('item_'); }_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d2875432366090970056','//thedatachef.blogspot.fr/2013/11/linear-regression-with-pig.html','2875432366090970056');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '2875432366090970056', 'bloggerUrl': 'https://www.blogger.com', 'title': 'Data Recipes', 'pageType': 'item', 'postId': '3087018930634651322', 'url': 'http://thedatachef.blogspot.fr/2013/11/linear-regression-with-pig.html', 'canonicalUrl': 'http://thedatachef.blogspot.com/2013/11/linear-regression-with-pig.html', 'homepageUrl': 'http://thedatachef.blogspot.fr/', 'canonicalHomepageUrl': 'http://thedatachef.blogspot.com/', 'blogspotFaviconUrl': 'http://thedatachef.blogspot.fr/favicon.ico', 'enabledCommentProfileImages': true, 'adultContent': false, 'analyticsAccountNumber': '', 'useUniversalAnalytics': false, 'pageName': 'Linear Regression With Pig', 'pageTitle': 'Data Recipes: Linear Regression With Pig', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'languageDirection': 'ltr', 'feedLinks': '\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42Data Recipes - Atom\42 href\75\42http://thedatachef.blogspot.com/feeds/posts/default\42 /\76\n\74link rel\75\42alternate\42 type\75\42application/rss+xml\42 title\75\42Data Recipes - RSS\42 href\75\42http://thedatachef.blogspot.com/feeds/posts/default?alt\75rss\42 /\76\n\74link rel\75\42service.post\42 type\75\42application/atom+xml\42 title\75\42Data Recipes - Atom\42 href\75\42https://www.blogger.com/feeds/2875432366090970056/posts/default\42 /\76\n\n\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42Data Recipes - Atom\42 href\75\42http://thedatachef.blogspot.com/feeds/3087018930634651322/comments/default\42 /\76\n', 'meTag': '', 'openIdOpTag': '', 'postImageThumbnailUrl': 'http://1.bp.blogspot.com/-Gbmo6S5K9U4/Un-Vi8WQXuI/AAAAAAAAATY/Jj4csk5bfi4/s72-c/data.png', 'postImageUrl': 'http://1.bp.blogspot.com/-Gbmo6S5K9U4/Un-Vi8WQXuI/AAAAAAAAATY/Jj4csk5bfi4/s320/data.png', 'latencyHeadScript': '\74script type\75\42text/javascript\42\76(function() { (function(){function c(a){this.t\75{};this.tick\75function(a,c,b){var d\75void 0!\75b?b:(new Date).getTime();this.t[a]\75[d,c];if(void 0\75\75b)try{window.console.timeStamp(\42CSI/\42+a)}catch(e){}};this.tick(\42start\42,null,a)}var a;window.performance\46\46(a\75window.performance.timing);var h\75a?new c(a.responseStart):new c;window.jstiming\75{Timer:c,load:h};if(a){var b\75a.navigationStart,e\75a.responseStart;0\74b\46\46e\76\75b\46\46(window.jstiming.srt\75e-b)}if(a){var d\75window.jstiming.load;0\74b\46\46e\76\75b\46\46(d.tick(\42_wtsrt\42,void 0,b),d.tick(\42wtsrt_\42,\n\42_wtsrt\42,e),d.tick(\42tbsd_\42,\42wtsrt_\42))}try{a\75null,window.chrome\46\46window.chrome.csi\46\46(a\75Math.floor(window.chrome.csi().pageT),d\46\0460\74b\46\46(d.tick(\42_tbnd\42,void 0,window.chrome.csi().startE),d.tick(\42tbnd_\42,\42_tbnd\42,b))),null\75\75a\46\46window.gtbExternal\46\46(a\75window.gtbExternal.pageT()),null\75\75a\46\46window.external\46\46(a\75window.external.pageT,d\46\0460\74b\46\46(d.tick(\42_tbnd\42,void 0,window.external.startE),d.tick(\42tbnd_\42,\42_tbnd\42,b))),a\46\46(window.jstiming.pt\75a)}catch(k){}})();window.tickAboveFold\75function(c){var a\0750;if(c.offsetParent){do a+\75c.offsetTop;while(c\75c.offsetParent)}c\75a;750\76\75c\46\46window.jstiming.load.tick(\42aft\42)};var f\75!1;function g(){f||(f\75!0,window.jstiming.load.tick(\42firstScrollTime\42))}window.addEventListener?window.addEventListener(\42scroll\42,g,!1):window.attachEvent(\42onscroll\42,g);\n })();\74/script\076', 'mobileHeadScript': '', 'adsenseClientId': 'pub-8584185699690480', 'ieCssRetrofitLinks': '\74!--[if IE]\76\74script type\75\42text/javascript\42 src\75\42https://www.blogger.com/static/v1/jsbin/1494333581-ieretrofit.js\42\76\74/script\76\n\74![endif]--\076', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/433c1c2e1ace5832', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sf': 'n', 'tf': ''}}, {'name': 'messages', 'data': {'archive': 'Archive', 'deleteBacklink': 'Delete Backlink', 'deleteComment': 'Delete Comment', 'emailAddress': 'Email Address', 'getEmailNotifications': 'Get email notifications', 'keepReading': 'Keep reading', 'labels': 'Labels', 'loadMorePosts': 'Load more posts', 'loading': 'Loading...', 'myBlogList': 'My Blog List', 'myFavoriteSites': 'My favorite sites', 'newer': 'Newer', 'newerPosts': 'Newer Posts', 'newest': 'Newest', 'noResultsFound': 'No results found', 'noTitle': 'No title', 'older': 'Older', 'olderPosts': 'Older Posts', 'oldest': 'Oldest', 'onlyTeamMembersCanComment': 'Note: Only a member of this blog may post a comment.', 'popularPosts': 'Popular Posts', 'popularPostsFromThisBlog': 'Popular posts from this blog', 'postAComment': 'Post a Comment', 'reportAbuse': 'Report Abuse', 'search': 'Search', 'share': 'Share', 'showAll': 'Show all', 'subscribe': 'Subscribe', 'subscribeToThisBlog': 'Subscribe to this blog', 'theresNothingHere': 'There\47s nothing here!'}}, {'name': 'skin', 'data': {'vars': {'post_footer_background_color': '#f9f9f9', 'tabs_text_color': '#999999', 'date_header_letterspacing': 'inherit', 'content_shadow_spread': '40px', 'body_background_override': '', 'description_text_size': '140%', 'mobile_background_size': 'auto', 'header_shadow_spread': '1px', 'image_border_color': '#eeeeee', 'date_header_color': '#222222', 'header_shadow_offset_top': '-1px', 'header_border_horizontalsize': '0', 'widget_title_font': 'normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_border_color': '#eeeeee', 'tabs_bevel_border_width': '1px', 'body_background_gradient_tile': 'none', 'description_text_color': '#777777', 'main_section_margin': '15px', 'post_title_font': 'normal normal 22px Verdana, Geneva, sans-serif', 'page_width': 'auto', 'paging_background': 'transparent none no-repeat scroll top center', 'body_text_color': '#222222', 'content_padding': '10px', 'header_background_gradient': 'none', 'post_margin_bottom': '25px', 'header_shadow_offset_left': '-1px', 'tabs_background_color': '#f5f5f5', 'content_background_color': '#ffffff', 'body_background_gradient_cap': 'none', 'main_padding_top': '30px', 'widget_alternate_text_color': '#999999', 'image_text_color': '#222222', 'link_visited_color': '#888888', 'tabs_margin_side': '30px', 'image_border_large_size': '5px', 'content_shadow_spread_webkit': '5px', 'mobile_button_color': '#ffffff', 'tabs_selected_text_color': '#000000', 'main_border_width': '0', 'content_background_color_selector': '.content-inner', 'link_color': '#bb213a', 'post_footer_border_color': '#eeeeee', 'date_header_font': 'normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_background_gradient': 'url(http://www.blogblog.com/1kt/simple/gradients_light.png)', 'content_padding_horizontal': '10px', 'header_font': 'normal normal 60px Verdana, Geneva, sans-serif', 'startSide': 'left', 'tabs_font': 'normal normal 14px Verdana, Geneva, sans-serif', 'widget_title_text_color': '#000000', 'header_border_size': '1px', 'tabs_selected_background_color': '#eeeeee', 'date_header_margin': 'inherit', 'footer_bevel': '0', 'image_border_small_size': '2px', 'content_shadow_spread_ie': '10px', 'mobile_background_overlay': 'transparent none repeat scroll top left', 'endSide': 'right', 'date_header_padding': 'inherit', 'image_background_color': '#ffffff', 'body_rule_color': '#eeeeee', 'header_bottom_border_size': '1px', 'page_width_selector': '.region-inner', 'body_background_color': '#dd667f', 'header_text_color': '#bb3254', 'main_padding': '15px', 'date_header_background_color': 'transparent', 'tabs_border_width': '1px', 'body_font': 'normal normal 12px Verdana, Geneva, sans-serif', 'link_hover_color': '#ff3243', 'header_background_color': 'transparent', 'keycolor': '#dd667f', 'main_padding_bottom': '30px', 'post_footer_text_color': '#666666', 'tabs_margin_top': '0', 'header_padding': '30px'}, 'override': ''}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\75classic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\75flipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\75magazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\75mosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\75sidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\75snapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\75timeslide'}}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HTMLView', new _WidgetInfo('HTML1', 'crosscol', null, document.getElementById('HTML1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/4156661259-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/1185134592-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AdSenseView', new _WidgetInfo('AdSense1', 'sidebar-right-1', null, document.getElementById('AdSense1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_FollowersView', new _WidgetInfo('Followers1', 'sidebar-right-1', null, document.getElementById('Followers1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading...'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_ProfileView', new _WidgetInfo('Profile1', 'sidebar-right-1', null, document.getElementById('Profile1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {'attribution': 'Simple template. Powered by \74a href\75\47https://www.blogger.com\47 target\75\47_blank\47\76Blogger\74/a\76.'}, 'displayModeFull'));
</script>

<iframe name="oauth2relay896249800" id="oauth2relay896249800" src="./Data Recipes_ Linear Regression With Pig_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: MathJax_Size2, sans-serif;"></div></div><link type="text/css" rel="stylesheet" href="./Data Recipes_ Linear Regression With Pig_files/1185134592-lightbox_bundle.css"><script type="text/javascript" src="./Data Recipes_ Linear Regression With Pig_files/4156661259-lbx.js"></script></body></html>